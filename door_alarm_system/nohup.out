nohup: ignoring input
INFO:camera_helper:Attempting to initialize USB camera on device 0
INFO:camera_helper:âœ… USB camera initialized successfully at (1920, 1080)
WARNING:werkzeug:Werkzeug appears to be used in a production deployment. Consider switching to a production web server instead.
pygame 2.6.1 (SDL 2.28.4, Python 3.13.5)
Hello from the pygame community. https://www.pygame.org/contribute.html
[DEBUG] ðŸ”§ Starting GPIO setup...
[DEBUG] ðŸ”§ Not in testing mode, initializing GPIO hardware...
[DEBUG] ðŸ”§ Checking for lingering GPIO processes...
[DEBUG] ðŸ”§ Performing aggressive GPIO cleanup...
[DEBUG] ðŸ”§ GPIO cleanup attempt 1 completed
[DEBUG] ðŸ”§ GPIO cleanup attempt 2 completed
[DEBUG] ðŸ”§ GPIO cleanup attempt 3 completed
[DEBUG] ðŸ”§ GPIO mode reset to BOARD
[DEBUG] ðŸ”§ GPIO cleanup and mode initialization completed
[DEBUG] âœ… GPIO pin 11 setup successful (Magnetic sensor)
[DEBUG] âœ… GPIO pin 22 setup successful (Green LED)
[DEBUG] âœ… GPIO pin 13 setup successful (Red LED)
[DEBUG] âœ… GPIO pin 16 setup successful (White LED)
[DEBUG] âœ… GPIO pin 18 setup successful (Switch)
[DEBUG] ðŸ”§ GPIO Setup Summary:
  â”œâ”€ Successful pins: 5/5
  â”‚   âœ… Pin 11: Magnetic sensor
  â”‚   âœ… Pin 22: Green LED
  â”‚   âœ… Pin 13: Red LED
  â”‚   âœ… Pin 16: White LED
  â”‚   âœ… Pin 18: Switch
[DEBUG] ðŸ”§ GPIO initialization completed
[DEBUG] ðŸ”§ GPIO setup phase completed, continuing with global variables...
[DEBUG] âœ… GPIO hardware is available and functional
[DEBUG] ðŸ”§ Global variables initialized:
  â”œâ”€ door_open: False
  â”œâ”€ alarm_active: False
  â”œâ”€ timer_active: False
  â””â”€ timer_duration: 30s
ðŸŒ SSL disabled - HTTP mode (default)
ðŸ’¡ To enable HTTPS: USE_SSL=true python app.py
ï¿½ðŸš€ Starting eDOMOS-v2 Door Alarm System...
ðŸ“¡ WebSocket support enabled
ðŸ”„ Event-driven real-time updates active
ðŸŒ Server will be available at: http://0.0.0.0:5000
ðŸ”Œ WebSocket endpoint: ws://0.0.0.0:5000/socket.io/?EIO=4&transport=websocket&ns=/events
============================================================
[DEBUG] â° Timer duration loaded from database: 5 seconds
[DEBUG] ðŸ”§ Initializing LED states...
[DEBUG] âœ… LEDs initialized - Green: ON, Red: OFF, White: OFF
[DEBUG] ðŸ”§ Initializing audio system...
[DEBUG] ðŸ”Š Initializing audio system...
[DEBUG] Audio file path: /home/bsm/WebApp/eDOMOS-v2.1/door_alarm_system/static/audio.mp3
[DEBUG] Audio file exists: True
[DEBUG] Audio file size: 34605 bytes
[DEBUG] âœ… Audio preloaded into memory for instant playback
[DEBUG] âœ… Audio initialization successful:
  â”œâ”€ File: /home/bsm/WebApp/eDOMOS-v2.1/door_alarm_system/static/audio.mp3
  â”œâ”€ Size: 34605 bytes
  â”œâ”€ Volume: 1.0
  â”œâ”€ Mixer initialized: (22050, -16, 2)
  â”œâ”€ Preloaded: True
  â””â”€ SDL Audio Driver: alsa
[DEBUG] ðŸ”§ Initializing camera system...
[DEBUG] âœ… Camera initialized successfully!
[DEBUG]    Type: usb
[DEBUG]    Resolution: (1920, 1080)
[DEBUG]    Storage: static/captures
[DEBUG] ðŸšª Door monitoring loop started
[DEBUG] ðŸšª Door state change detected: None -> False
ðŸ” Door monitoring thread started
[SCHEDULER] ðŸ“§ Report scheduler thread started
ðŸ“§ Report scheduler thread started
ðŸ”§ Starting SocketIO server with enhanced configuration...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.31.227:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
/home/bsm/WebApp/eDOMOS-v2.1/door_alarm_system/app.py:1428: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
  return User.query.get(int(user_id))
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:11] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:12] "GET /socket.io/?EIO=4&transport=polling&t=PenfLsD HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:12] "POST /socket.io/?EIO=4&transport=polling&t=PenfLsT&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:12] "GET /socket.io/?EIO=4&transport=polling&t=PenfLsU&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:12] "POST /socket.io/?EIO=4&transport=polling&t=PenfLss&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:12] "GET /socket.io/?EIO=4&transport=polling&t=PenfLsq&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:12] "POST /socket.io/?EIO=4&transport=polling&t=PenfLt8&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:12] "GET /socket.io/?EIO=4&transport=polling&t=PenfLtF&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:15] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:18] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:21] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:24] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:27] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:30] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:33] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:36] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:37] "GET /socket.io/?EIO=4&transport=polling&t=PenfLtX&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:37] "POST /socket.io/?EIO=4&transport=polling&t=PenfRzO&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:39] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:42] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [30/Oct/2025 01:55:42] "[32mGET /api/events/1011 HTTP/1.1[0m" 302 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:45] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:48] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [30/Oct/2025 01:55:50] "[32mGET /api/events?per_page=5 HTTP/1.1[0m" 302 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:51] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:54] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:55:57] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:00] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:02] "GET /socket.io/?EIO=4&transport=polling&t=PenfRzY&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:02] "POST /socket.io/?EIO=4&transport=polling&t=PenfY55&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:03] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:06] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:09] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:12] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:15] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:18] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:21] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:24] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:27] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:27] "GET /socket.io/?EIO=4&transport=polling&t=PenfY58&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:27] "POST /socket.io/?EIO=4&transport=polling&t=PenfeCo&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:30] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:33] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:36] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:39] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:42] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:45] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:48] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:51] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:52] "GET /socket.io/?EIO=4&transport=polling&t=PenfeCv&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:52] "POST /socket.io/?EIO=4&transport=polling&t=PenfkL5&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:54] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:56:57] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:00] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:03] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:06] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:09] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:12] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:15] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:17] "GET /socket.io/?EIO=4&transport=polling&t=PenfkL9&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:17] "POST /socket.io/?EIO=4&transport=polling&t=PenfqSw&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:18] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:21] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:24] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:27] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:30] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:33] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:36] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:39] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:42] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:42] "GET /socket.io/?EIO=4&transport=polling&t=PenfqT4&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:42] "POST /socket.io/?EIO=4&transport=polling&t=PenfwaN&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:45] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:48] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:51] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: Zr99Ie7z5_wHdGYmAAAB
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: Zr99Ie7z5_wHdGYmAAAB
  â”œâ”€ Total Connected Clients: 2
  â””â”€ Connection Time: 2025-10-30T01:55:12.359168
[WEBSOCKET] ðŸ“ Sending initial ping to Zr99Ie7z5_wHdGYmAAAB
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: Zr99Ie7z5_wHdGYmAAAB
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:25:12.374Z', 'page': '/event-log', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: Zr99Ie7z5_wHdGYmAAAB
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:25:12.377Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:54] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:57:57] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:00] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:03] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:06] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:07] "GET /socket.io/?EIO=4&transport=polling&t=PenfwaQ&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:07] "POST /socket.io/?EIO=4&transport=polling&t=Peng0hZ&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:09] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:12] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:15] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:18] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:21] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:24] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:27] "GET /api/events?since=1013&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:29] "GET /event-log HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/css/modern.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/css/colors.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "GET /static/captures/door_close_2025-10-30_01-53-12.jpg?v=1015 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "GET /static/captures/alarm_triggered_2025-10-30_01-53-06.jpg?v=1014 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "GET /static/captures/door_open_2025-10-30_01-53-01.jpg?v=1013 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_close_2025-10-30_01-48-16.jpg?v=1012 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-48-10.jpg?v=1011 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "GET /static/js/socket.js HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_open_2025-10-30_01-48-04.jpg?v=1010 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_close_2025-10-30_01-47-52.jpg?v=1009 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-47-48.jpg?v=1008 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_open_2025-10-30_01-47-43.jpg?v=1007 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_open_2025-10-30_01-47-27.jpg?v=1004 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-47-32.jpg?v=1005 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_close_2025-10-30_01-47-36.jpg?v=1006 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_close_2025-10-30_01-47-21.jpg?v=1003 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_open_2025-10-30_01-47-16.jpg?v=1002 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_close_2025-10-30_01-46-46.jpg?v=1001 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_close_2025-10-30_01-46-29.jpg?v=999 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:30] "[36mGET /static/captures/door_open_2025-10-30_01-46-41.jpg?v=1000 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-46-24.jpg?v=998 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-41-54.jpg?v=996 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-41-56.jpg?v=997 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-41-48.jpg?v=995 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-32-03.jpg?v=994 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-32-00.jpg?v=993 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-31-54.jpg?v=992 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-27-09.jpg?v=991 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-26-59.jpg?v=990 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-24-04.jpg?v=988 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-26-53.jpg?v=989 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-24-02.jpg?v=987 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-23-56.jpg?v=986 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-23-49.jpg?v=985 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-23-41.jpg?v=984 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-23-16.jpg?v=980 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-20-41.jpg?v=979 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-23-36.jpg?v=983 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-23-21.jpg?v=981 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-23-22.jpg?v=982 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-20-37.jpg?v=978 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-20-32.jpg?v=977 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-12-53.jpg?v=974 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-12-59.jpg?v=975 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-13-02.jpg?v=976 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-09-41.jpg?v=973 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-09-30.jpg?v=972 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-09-25.jpg?v=971 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-08-09.jpg?v=969 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-08-13.jpg?v=970 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_close_2025-10-30_01-07-49.jpg?v=968 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-07-46.jpg?v=967 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:31] "[36mGET /static/captures/door_open_2025-10-30_01-07-41.jpg?v=966 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:32] "GET /socket.io/?EIO=4&transport=polling&t=Peng6il HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:32] "GET /socket.io/?EIO=4&transport=polling&t=Peng6j0 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:32] "GET /api/events?per_page=1 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:32] "POST /socket.io/?EIO=4&transport=polling&t=Peng6n0&sid=m9LLD5yuEl0k8I_TAAAD HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:32] "GET /socket.io/?EIO=4&transport=polling&t=Peng6n3&sid=m9LLD5yuEl0k8I_TAAAD HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:32] "POST /socket.io/?EIO=4&transport=polling&t=Peng6oE&sid=m9LLD5yuEl0k8I_TAAAD HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:32] "GET /socket.io/?EIO=4&transport=polling&t=Peng6o9&sid=m9LLD5yuEl0k8I_TAAAD HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:32] "GET /socket.io/?EIO=4&transport=polling&t=Peng0hb&sid=6znPVzjiWI3O6cVvAAAA HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:32] "POST /socket.io/?EIO=4&transport=polling&t=Peng6og&sid=m9LLD5yuEl0k8I_TAAAD HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:32] "GET /socket.io/?EIO=4&transport=polling&t=Peng6or&sid=m9LLD5yuEl0k8I_TAAAD HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "POST /socket.io/?EIO=4&transport=polling&t=Peng6w4&sid=m9LLD5yuEl0k8I_TAAAD HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "GET /socket.io/?EIO=4&transport=polling&t=Peng6w9 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "POST /socket.io/?EIO=4&transport=polling&t=Peng6wy&sid=m9LLD5yuEl0k8I_TAAAD HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "GET /socket.io/?EIO=4&transport=polling&t=Peng6pV&sid=m9LLD5yuEl0k8I_TAAAD HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "POST /socket.io/?EIO=4&transport=polling&t=Peng6x2&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "GET /socket.io/?EIO=4&transport=polling&t=Peng6x4&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "GET /socket.io/?EIO=4&transport=polling&t=Peng6yC&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "POST /socket.io/?EIO=4&transport=polling&t=Peng6yI&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "GET /socket.io/?EIO=4&transport=polling&t=Peng6yj&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "POST /socket.io/?EIO=4&transport=polling&t=Peng6z4&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:33] "GET /socket.io/?EIO=4&transport=polling&t=Peng6ze&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_open_2025-10-30_01-58-36.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_open_2025-10-30_01-58-36.jpg (37438 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:37] "GET /socket.io/?EIO=4&transport=polling&t=Peng70K&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:37] "GET /socket.io/?EIO=4&transport=polling&t=Peng7vO&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:39] "GET /api/events/1016 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:39] "GET /static/captures/door_open_2025-10-30_01-58-36.jpg?v=1761769719092 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -

[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1013
[API] Found 2 new events since ID 1013
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: WXw6j-AUxSXjioSYAAAE
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: WXw6j-AUxSXjioSYAAAE
  â”œâ”€ Total Connected Clients: 3
  â””â”€ Connection Time: 2025-10-30T01:58:32.747999
[WEBSOCKET] ðŸ“ Sending initial ping to WXw6j-AUxSXjioSYAAAE
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: WXw6j-AUxSXjioSYAAAE
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:28:32.781Z', 'page': '/event-log', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: WXw6j-AUxSXjioSYAAAE
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:28:32.784Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: WXw6j-AUxSXjioSYAAAE
  â”œâ”€ Remaining Clients: 2
  â””â”€ Disconnect Time: 2025-10-30T01:58:33.313588
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: YDMcDd_G8UQ7ODbyAAAG
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: YDMcDd_G8UQ7ODbyAAAG
  â”œâ”€ Total Connected Clients: 3
  â””â”€ Connection Time: 2025-10-30T01:58:33.371927
[WEBSOCKET] ðŸ“ Sending initial ping to YDMcDd_G8UQ7ODbyAAAG
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: YDMcDd_G8UQ7ODbyAAAG
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:28:33.423Z', 'page': '/event-log', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: YDMcDd_G8UQ7ODbyAAAG
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:28:33.431Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 0 new events since ID 1015
[DEBUG] ðŸšª Door state change detected: False -> True
[DEBUG] ðŸ”§ GPIO Pin 16 set to LOW (White LED - ensure alarm off)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - ensure timer LED off before blinking)
[DEBUG] âœ… Timer setting found in DB: 5 seconds
[DEBUG] ðŸšª DOOR OPENED EVENT:
  â”œâ”€ Timer Duration: 5 seconds
  â”œâ”€ Global timer_duration: 5 seconds
  â”œâ”€ Current Time: 1761769716.9018202
  â””â”€ Will trigger alarm at: 1761769721.9018202
[DEBUG] log_event #1 [77f57b97]: door_open - Door opened
[DEBUG] *** EVENT APPROVED FOR LOGGING [77f57b97] ***: door_open
[DEBUG] Starting DB transaction [77f57b97]...
[DEBUG] âœ… DB COMMIT SUCCESS [77f57b97]: door_open -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_open...
[DEBUG] âœ… IMAGE CAPTURED [77f57b97]:
[DEBUG]    File: door_open_2025-10-30_01-58-36.jpg
[DEBUG]    Size: 37438 bytes
[DEBUG]    Hash: 62e81c8bb135eb78...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [77f57b97]: Block #952
[ANOMALY] ðŸš¨ Odd hours access detected at 1:00
[DEBUG] Broadcasting WebSocket [77f57b97]: door_open
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1016
[DEBUG]   - Type: door_open
[DEBUG]   - Image Path: static/captures/door_open_2025-10-30_01-58-36.jpg
[DEBUG]   - Image Hash: 62e81c8bb135eb78...
[DEBUG]   - Full event dict: {'id': 1016, 'event_type': 'door_open', 'description': 'Door opened', 'timestamp': '2025-10-30 01:58:36', 'image_path': 'static/captures/door_open_2025-10-30_01-58-36.jpg', 'image_hash': '62e81c8bb135eb78d09e72ef34aa00f19b2cb3aa3044fa75c84f2ca02109198e', 'image_timestamp': '2025-10-30 01:58:36', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_open
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_open' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [77f57b97]: door_open
[DEBUG] â° ALARM TIMER STARTED:
  â”œâ”€ Duration: 5 seconds
  â”œâ”€ Start Time: 1761769717.3874254
  â”œâ”€ Timer Active: True
  â””â”€ Door Open: True
  ðŸŽ¯ EXPECTED TRIGGER TIME: 1761769722.3874254 (5s from now)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer start)
[DEBUG] ðŸ”´ LED will blink 5 times (1 blink = 1 second)
[DEBUG] ðŸŽ¯ Timer will expire at: 1761769722.387
[DEBUG] â±ï¸  Second 1: Elapsed=0.0s, Remaining=5.0s
[DEBUG] â° New timer thread started for 5s
[DEBUG] ðŸ” Verification - Thread args: (5,)
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #1 - Elapsed: 0.5s - Remaining: 4.5s
[DEBUG] â±ï¸  Second 2: Elapsed=1.0s, Remaining=4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #1 complete - Elapsed: 1.0s
[API] Polling request: Getting events since ID 1015
[API] Found 1 new events since ID 1015
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #2 - Elapsed: 1.5s - Remaining: 3.5s
[DEBUG] â±ï¸  Second 3: Elapsed=2.0s, Remaining=3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #2 complete - Elapsed: 2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #3 - Elapsed: 2.5s - Remaining: 2.5s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 4: Elapsed=3.0s, Remaining=2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #3 complete - Elapsed: 3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #4 - Elapsed: 3.5s - Remaining: 1.5s
[DEBUG] â±ï¸  Second 5: Elapsed=4.0s, Remaining=1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #4 complete - Elapsed: 4.0s
[API] Polling request: Getting events since ID 1015
[API] Found 1 new events since ID 1015
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #5 - Elapsed: 4.5s - Remaining: 0.5s
[DEBUG] ðŸ TIMER LOOP ENDED:
  â”œâ”€ Start Time: 1761769717.387
  â”œâ”€ End Time: 1761769722.408
  â”œâ”€ Elapsed Time: 5.020 secondsINFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/alarm_triggered_2025-10-30_01-58-42.jpg
INFO:camera_helper:ðŸ“¸ Image captured: alarm_triggered_2025-10-30_01-58-42.jpg (35349 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:42] "GET /socket.io/?EIO=4&transport=polling&t=Peng7wi&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:42] "GET /socket.io/?EIO=4&transport=polling&t=Peng9El&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:44] "GET /api/events/1017 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:44] "GET /static/captures/alarm_triggered_2025-10-30_01-58-42.jpg?v=1761769724510 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_close_2025-10-30_01-58-46.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_close_2025-10-30_01-58-46.jpg (39022 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:46] "GET /socket.io/?EIO=4&transport=polling&t=Peng9LF&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:48] "GET /api/events/1018 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:48] "GET /static/captures/door_close_2025-10-30_01-58-46.jpg?v=1761769728145 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:58] "GET /socket.io/?EIO=4&transport=polling&t=PengA8V&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:58] "POST /socket.io/?EIO=4&transport=polling&t=PengD4E&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:58:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:23] "GET /socket.io/?EIO=4&transport=polling&t=PengD4H&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:23] "POST /socket.io/?EIO=4&transport=polling&t=PengJED&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:48] "GET /socket.io/?EIO=4&transport=polling&t=PengJEI&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:48] "POST /socket.io/?EIO=4&transport=polling&t=PengPNh&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -

  â”œâ”€ Expected Duration: 5 seconds
  â”œâ”€ Timer Active: True
  â”œâ”€ Door Open: True
  â””â”€ Should Trigger: True
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer cleanup)
[DEBUG] ðŸ”´ Red LED turned OFF
[DEBUG] âš ï¸ ALARM TRIGGERED:
  â”œâ”€ Duration Set: 5 seconds
  â”œâ”€ Actual Elapsed: 5.02 seconds
  â”œâ”€ Door Still Open: True
  â””â”€ Timer Was Active: False
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - before alarm activation)
[DEBUG] ðŸ”´ WHITE LED ON (Pin 16) - ALARM ACTIVE
[DEBUG] ðŸ” WHITE LED VERIFICATION: Pin 16 actual state = 1 (should be 1)
[DEBUG] ðŸŽµ AUDIO LINKED TO WHITE LED - Starting alarm sound...
[DEBUG] ðŸ”„ Preloaded audio now playing in continuous loop
[DEBUG] log_event #2 [76ea7d7e]: alarm_triggered - Alarm triggered after 5 seconds
[DEBUG] *** EVENT APPROVED FOR LOGGING [76ea7d7e] ***: alarm_triggered
[DEBUG] Starting DB transaction [76ea7d7e]...
[DEBUG] âœ… DB COMMIT SUCCESS [76ea7d7e]: alarm_triggered -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for alarm_triggered...
[DEBUG] âœ… IMAGE CAPTURED [76ea7d7e]:
[DEBUG]    File: alarm_triggered_2025-10-30_01-58-42.jpg
[DEBUG]    Size: 35349 bytes
[DEBUG]    Hash: f459ff8125d085a8...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [76ea7d7e]: Block #953
[DEBUG] Broadcasting WebSocket [76ea7d7e]: alarm_triggered
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1017
[DEBUG]   - Type: alarm_triggered
[DEBUG]   - Image Path: static/captures/alarm_triggered_2025-10-30_01-58-42.jpg
[DEBUG]   - Image Hash: f459ff8125d085a8...
[DEBUG]   - Full event dict: {'id': 1017, 'event_type': 'alarm_triggered', 'description': 'Alarm triggered after 5 seconds', 'timestamp': '2025-10-30 01:58:42', 'image_path': 'static/captures/alarm_triggered_2025-10-30_01-58-42.jpg', 'image_hash': 'f459ff8125d085a89c1937441b4ab61bf83513ae4c25eb0bb3ebca554bbbef4e', 'image_timestamp': '2025-10-30 01:58:42', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: alarm_triggered
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'alarm_triggered' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [76ea7d7e]: alarm_triggered
[ANOMALY] ðŸš¨ Prolonged open detected: 5s
[DEBUG] Attempting to send alarm email for duration: 5s
[DEBUG] Email config found - Sender: bsmscitech@gmail.com
[DEBUG] Recipients: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Connecting to Gmail SMTP...
[DEBUG] Attempting login...
[API] Polling request: Getting events since ID 1015
[API] Found 2 new events since ID 1015
[DEBUG] Sending email to 4 recipients...
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸšª Door state change detected: True -> False
[DEBUG] ðŸšª Door closed - stopping all timers and alarms
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - door closed)
[DEBUG] ðŸ”‡ Audio alarm stopped immediately (both music and sound channels)
[DEBUG] âš« WHITE LED OFF (Pin 16) - ALARM DEACTIVATED
[DEBUG] âœ… Door closed. Timer and alarm deactivated.
[DEBUG] log_event #3 [72830481]: door_close - Door closed
[DEBUG] *** EVENT APPROVED FOR LOGGING [72830481] ***: door_close
[DEBUG] Starting DB transaction [72830481]...
[DEBUG] âœ… DB COMMIT SUCCESS [72830481]: door_close -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_close...
[DEBUG] ðŸ”‡ Alarm deactivated - stopping continuous loop
[DEBUG] ðŸ”‡ Audio monitoring stopped
[DEBUG] âœ… IMAGE CAPTURED [72830481]:
[DEBUG]    File: door_close_2025-10-30_01-58-46.jpg
[DEBUG]    Size: 39022 bytes
[DEBUG]    Hash: 79d1aa32bf633f75...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [72830481]: Block #954
[DEBUG] Broadcasting WebSocket [72830481]: door_close
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1018
[DEBUG]   - Type: door_close
[DEBUG]   - Image Path: static/captures/door_close_2025-10-30_01-58-46.jpg
[DEBUG]   - Image Hash: 79d1aa32bf633f75...
[DEBUG]   - Full event dict: {'id': 1018, 'event_type': 'door_close', 'description': 'Door closed', 'timestamp': '2025-10-30 01:58:46', 'image_path': 'static/captures/door_close_2025-10-30_01-58-46.jpg', 'image_hash': '79d1aa32bf633f75bb7ba9b5b6d7402fb9c7c1d4a830401f7276324b0b4b585b', 'image_timestamp': '2025-10-30 01:58:46', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_close
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_close' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [72830481]: door_close
[SUCCESS] Alarm email sent successfully to: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Timer thread ending - Final state: timer_active=False, alarm_active=False
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 01:59:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:13] "GET /socket.io/?EIO=4&transport=polling&t=PengPNk&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:13] "POST /socket.io/?EIO=4&transport=polling&t=PengVVQ&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:38] "GET /socket.io/?EIO=4&transport=polling&t=PengVVS&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:39] "POST /socket.io/?EIO=4&transport=polling&t=Pengbdb&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:00:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:04] "GET /socket.io/?EIO=4&transport=polling&t=Pengbdd&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:04] "POST /socket.io/?EIO=4&transport=polling&t=PenghlR&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:29] "GET /socket.io/?EIO=4&transport=polling&t=PenghlW&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:29] "POST /socket.io/?EIO=4&transport=polling&t=Pengnsi&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_open_2025-10-30_02-01-39.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_open_2025-10-30_02-01-39.jpg (38473 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:40] "GET /socket.io/?EIO=4&transport=polling&t=Pengnsm&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:40] "GET /socket.io/?EIO=4&transport=polling&t=PengqWZ&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:40] "GET /socket.io/?EIO=4&transport=polling&t=PengqXV&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:41] "GET /api/events/1019 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:41] "GET /static/captures/door_open_2025-10-30_02-01-39.jpg?v=1761769901754 HTTP/1.1" 200 -

[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: Zr99Ie7z5_wHdGYmAAAB
  â”œâ”€ Remaining Clients: 2
  â””â”€ Disconnect Time: 2025-10-30T02:00:12.343349
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 3 new events since ID 1015
[DEBUG] ðŸšª Door state change detected: False -> True
[DEBUG] ðŸ”§ GPIO Pin 16 set to LOW (White LED - ensure alarm off)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - ensure timer LED off before blinking)
[DEBUG] âœ… Timer setting found in DB: 5 seconds
[DEBUG] ðŸšª DOOR OPENED EVENT:
  â”œâ”€ Timer Duration: 5 seconds
  â”œâ”€ Global timer_duration: 5 seconds
  â”œâ”€ Current Time: 1761769899.66936
  â””â”€ Will trigger alarm at: 1761769904.66936
[DEBUG] log_event #4 [dd368c06]: door_open - Door opened
[DEBUG] *** EVENT APPROVED FOR LOGGING [dd368c06] ***: door_open
[DEBUG] Starting DB transaction [dd368c06]...
[DEBUG] âœ… DB COMMIT SUCCESS [dd368c06]: door_open -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_open...
[DEBUG] âœ… IMAGE CAPTURED [dd368c06]:
[DEBUG]    File: door_open_2025-10-30_02-01-39.jpg
[DEBUG]    Size: 38473 bytes
[DEBUG]    Hash: 4d51ccbdb71af1f6...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [dd368c06]: Block #955
[ANOMALY] ðŸš¨ Odd hours access detected at 2:00
[ANOMALY] ðŸš¨ Repeated opens: 3 times in 10 minutes
[DEBUG] Broadcasting WebSocket [dd368c06]: door_open
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1019
[DEBUG]   - Type: door_open
[DEBUG]   - Image Path: static/captures/door_open_2025-10-30_02-01-39.jpg
[DEBUG]   - Image Hash: 4d51ccbdb71af1f6...
[DEBUG]   - Full event dict: {'id': 1019, 'event_type': 'door_open', 'description': 'Door opened', 'timestamp': '2025-10-30 02:01:39', 'image_path': 'static/captures/door_open_2025-10-30_02-01-39.jpg', 'image_hash': '4d51ccbdb71af1f65235959e270100cb2d08224a25fea60a1de92d6f9e2660ae', 'image_timestamp': '2025-10-30 02:01:39', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_open
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 2
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_open' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [dd368c06]: door_open
[DEBUG] â° ALARM TIMER STARTED:
  â”œâ”€ Duration: 5 seconds
  â”œâ”€ Start Time: 1761769900.1485167
  â”œâ”€ Timer Active: True
  â””â”€ Door Open: True
  ðŸŽ¯ EXPECTED TRIGGER TIME: 1761769905.1485167 (5s from now)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer start)
[DEBUG] ðŸ”´ LED will blink 5 times (1 blink = 1 second)
[DEBUG] ðŸŽ¯ Timer will expire at: 1761769905.149
[DEBUG] â±ï¸  Second 1: Elapsed=0.0s, Remaining=5.0s
[DEBUG] â° New timer thread started for 5s
[DEBUG] ðŸ” Verification - Thread args: (5,)
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #1 - Elapsed: 0.5s - Remaining: 4.5s
[DEBUG] â±ï¸  Second 2: Elapsed=1.0s, Remaining=4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #1 complete - Elapsed: 1.0s
[API] Polling request: Getting events since ID 1015
[API] Found 4 new events since ID 1015
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #2 - Elapsed: 1.5s - Remaining: 3.5s
[DEBUG] â±ï¸  Second 3: Elapsed=2.0s, Remaining=3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #2 complete - Elapsed: 2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #3 - Elapsed: 2.5s - Remaining: 2.5s
[DEBUG] â±ï¸  Second 4: Elapsed=3.0s, Remaining=2.0sINFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/alarm_triggered_2025-10-30_02-01-45.jpg
INFO:camera_helper:ðŸ“¸ Image captured: alarm_triggered_2025-10-30_02-01-45.jpg (38291 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:45] "GET /socket.io/?EIO=4&transport=polling&t=PengqY3&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:45] "GET /socket.io/?EIO=4&transport=polling&t=Pengrs0&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:47] "GET /api/events/1020 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:47] "GET /static/captures/alarm_triggered_2025-10-30_02-01-45.jpg?v=1761769907217 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_close_2025-10-30_02-01-49.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_close_2025-10-30_02-01-49.jpg (38304 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:49] "GET /socket.io/?EIO=4&transport=polling&t=Pengrxd&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:51] "GET /api/events/1021 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:51] "GET /static/captures/door_close_2025-10-30_02-01-49.jpg?v=1761769911034 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:54] "GET /socket.io/?EIO=4&transport=polling&t=Pengspj&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:54] "POST /socket.io/?EIO=4&transport=polling&t=Pengt_J&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:01:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:19] "GET /socket.io/?EIO=4&transport=polling&t=Pengt_L&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:19] "POST /socket.io/?EIO=4&transport=polling&t=Peng-7K&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -

[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #3 complete - Elapsed: 3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #4 - Elapsed: 3.5s - Remaining: 1.5s
[DEBUG] â±ï¸  Second 5: Elapsed=4.0s, Remaining=1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #4 complete - Elapsed: 4.0s
[API] Polling request: Getting events since ID 1015
[API] Found 4 new events since ID 1015
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #5 - Elapsed: 4.5s - Remaining: 0.5s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸ TIMER LOOP ENDED:
  â”œâ”€ Start Time: 1761769900.149
  â”œâ”€ End Time: 1761769905.165
  â”œâ”€ Elapsed Time: 5.017 seconds
  â”œâ”€ Expected Duration: 5 seconds
  â”œâ”€ Timer Active: True
  â”œâ”€ Door Open: True
  â””â”€ Should Trigger: True
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer cleanup)
[DEBUG] ðŸ”´ Red LED turned OFF
[DEBUG] âš ï¸ ALARM TRIGGERED:
  â”œâ”€ Duration Set: 5 seconds
  â”œâ”€ Actual Elapsed: 5.02 seconds
  â”œâ”€ Door Still Open: True
  â””â”€ Timer Was Active: False
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - before alarm activation)
[DEBUG] ðŸ”´ WHITE LED ON (Pin 16) - ALARM ACTIVE
[DEBUG] ðŸ” WHITE LED VERIFICATION: Pin 16 actual state = 1 (should be 1)
[DEBUG] ðŸŽµ AUDIO LINKED TO WHITE LED - Starting alarm sound...
[DEBUG] ðŸ”„ Preloaded audio now playing in continuous loop
[DEBUG] log_event #5 [6bf2b4dc]: alarm_triggered - Alarm triggered after 5 seconds
[DEBUG] *** EVENT APPROVED FOR LOGGING [6bf2b4dc] ***: alarm_triggered
[DEBUG] Starting DB transaction [6bf2b4dc]...
[DEBUG] âœ… DB COMMIT SUCCESS [6bf2b4dc]: alarm_triggered -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for alarm_triggered...
[DEBUG] âœ… IMAGE CAPTURED [6bf2b4dc]:
[DEBUG]    File: alarm_triggered_2025-10-30_02-01-45.jpg
[DEBUG]    Size: 38291 bytes
[DEBUG]    Hash: 5de0f9464ac9a5c3...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [6bf2b4dc]: Block #956
[DEBUG] Broadcasting WebSocket [6bf2b4dc]: alarm_triggered
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1020
[DEBUG]   - Type: alarm_triggered
[DEBUG]   - Image Path: static/captures/alarm_triggered_2025-10-30_02-01-45.jpg
[DEBUG]   - Image Hash: 5de0f9464ac9a5c3...
[DEBUG]   - Full event dict: {'id': 1020, 'event_type': 'alarm_triggered', 'description': 'Alarm triggered after 5 seconds', 'timestamp': '2025-10-30 02:01:45', 'image_path': 'static/captures/alarm_triggered_2025-10-30_02-01-45.jpg', 'image_hash': '5de0f9464ac9a5c3d6641c40e39dba974e08674d96b85b6f18fc0cb111f1d250', 'image_timestamp': '2025-10-30 02:01:45', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: alarm_triggered
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 2
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'alarm_triggered' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [6bf2b4dc]: alarm_triggered
[ANOMALY] ðŸš¨ Prolonged open detected: 5s
[DEBUG] Attempting to send alarm email for duration: 5s
[DEBUG] Email config found - Sender: bsmscitech@gmail.com
[DEBUG] Recipients: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Connecting to Gmail SMTP...
[DEBUG] Attempting login...
[DEBUG] Sending email to 4 recipients...
[API] Polling request: Getting events since ID 1015
[API] Found 5 new events since ID 1015
[DEBUG] ðŸšª Door state change detected: True -> False
[DEBUG] ðŸšª Door closed - stopping all timers and alarms
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - door closed)
[DEBUG] ðŸ”‡ Audio alarm stopped immediately (both music and sound channels)
[DEBUG] âš« WHITE LED OFF (Pin 16) - ALARM DEACTIVATED
[DEBUG] âœ… Door closed. Timer and alarm deactivated.
[DEBUG] log_event #6 [475ad77e]: door_close - Door closed
[DEBUG] *** EVENT APPROVED FOR LOGGING [475ad77e] ***: door_close
[DEBUG] Starting DB transaction [475ad77e]...
[DEBUG] âœ… DB COMMIT SUCCESS [475ad77e]: door_close -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_close...
[DEBUG] ðŸ”‡ Alarm deactivated - stopping continuous loop
[DEBUG] ðŸ”‡ Audio monitoring stopped
[DEBUG] âœ… IMAGE CAPTURED [475ad77e]:
[DEBUG]    File: door_close_2025-10-30_02-01-49.jpg
[DEBUG]    Size: 38304 bytes
[DEBUG]    Hash: f6ebb7db465d7bf5...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [475ad77e]: Block #957
[DEBUG] Broadcasting WebSocket [475ad77e]: door_close
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1021
[DEBUG]   - Type: door_close
[DEBUG]   - Image Path: static/captures/door_close_2025-10-30_02-01-49.jpg
[DEBUG]   - Image Hash: f6ebb7db465d7bf5...
[DEBUG]   - Full event dict: {'id': 1021, 'event_type': 'door_close', 'description': 'Door closed', 'timestamp': '2025-10-30 02:01:49', 'image_path': 'static/captures/door_close_2025-10-30_02-01-49.jpg', 'image_hash': 'f6ebb7db465d7bf52f6860e685749478bb917fa58e18366ee27235bd25516930', 'image_timestamp': '2025-10-30 02:01:49', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_close
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 2
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_close' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [475ad77e]: door_close
[SUCCESS] Alarm email sent successfully to: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Timer thread ending - Final state: timer_active=False, alarm_active=False
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSEDINFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:44] "GET /socket.io/?EIO=4&transport=polling&t=Peng-7S&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:44] "POST /socket.io/?EIO=4&transport=polling&t=Penh4El&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:02:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:09] "GET /socket.io/?EIO=4&transport=polling&t=Penh4En&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:09] "POST /socket.io/?EIO=4&transport=polling&t=PenhALl&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:34] "GET /socket.io/?EIO=4&transport=polling&t=PenhALn&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:34] "POST /socket.io/?EIO=4&transport=polling&t=PenhGSk&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:59] "GET /socket.io/?EIO=4&transport=polling&t=PenhGSl&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:03:59] "POST /socket.io/?EIO=4&transport=polling&t=PenhMZk&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:24] "GET /socket.io/?EIO=4&transport=polling&t=PenhMZo&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:24] "POST /socket.io/?EIO=4&transport=polling&t=PenhSgp&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:49] "GET /socket.io/?EIO=4&transport=polling&t=PenhSgq&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:49] "POST /socket.io/?EIO=4&transport=polling&t=PenhYoY&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:04:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:14] "GET /socket.io/?EIO=4&transport=polling&t=PenhYos&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:14] "POST /socket.io/?EIO=4&transport=polling&t=Penhewb&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:39] "GET /socket.io/?EIO=4&transport=polling&t=Penhewf&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:39] "POST /socket.io/?EIO=4&transport=polling&t=Penhl1s&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -

[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSEDINFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:05:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:04] "GET /socket.io/?EIO=4&transport=polling&t=Penhl1u&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:04] "POST /socket.io/?EIO=4&transport=polling&t=Penhr8r&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:29] "GET /socket.io/?EIO=4&transport=polling&t=Penhr8t&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:29] "POST /socket.io/?EIO=4&transport=polling&t=PenhxFv&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:54] "GET /socket.io/?EIO=4&transport=polling&t=PenhxFx&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:54] "POST /socket.io/?EIO=4&transport=polling&t=Peni1Mx&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:06:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:19] "GET /socket.io/?EIO=4&transport=polling&t=Peni1Mz&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:19] "POST /socket.io/?EIO=4&transport=polling&t=Peni7Tu&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:44] "GET /socket.io/?EIO=4&transport=polling&t=Peni7Tw&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:44] "POST /socket.io/?EIO=4&transport=polling&t=PeniDaq&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:07:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:09] "GET /socket.io/?EIO=4&transport=polling&t=PeniDas&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:09] "POST /socket.io/?EIO=4&transport=polling&t=PeniJhm&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:34] "GET /socket.io/?EIO=4&transport=polling&t=PeniJho&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:34] "POST /socket.io/?EIO=4&transport=polling&t=PeniPoi&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -

[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:53] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:59] "GET /socket.io/?EIO=4&transport=polling&t=PeniPok&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:08:59] "POST /socket.io/?EIO=4&transport=polling&t=PeniVvd&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:05] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:08] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:11] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:14] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:17] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:20] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:23] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:24] "GET /socket.io/?EIO=4&transport=polling&t=PeniVvf&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:24] "POST /socket.io/?EIO=4&transport=polling&t=Penic0b&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:26] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:29] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:32] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:35] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:38] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:41] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:44] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:47] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:49] "GET /socket.io/?EIO=4&transport=polling&t=Penic0d&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:50] "POST /socket.io/?EIO=4&transport=polling&t=Penii7j&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:50] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:54] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:56] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_open_2025-10-30_02-09-57.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_open_2025-10-30_02-09-57.jpg (39905 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:57] "GET /socket.io/?EIO=4&transport=polling&t=Penii7m&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:57] "GET /socket.io/?EIO=4&transport=polling&t=PenijzS&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:59] "GET /api/events/1022 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:59] "GET /static/captures/door_open_2025-10-30_02-09-57.jpg?v=1761770399294 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:09:59] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...

[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1015
[API] Found 6 new events since ID 1015
[DEBUG] ðŸšª Door state change detected: False -> True
[DEBUG] ðŸ”§ GPIO Pin 16 set to LOW (White LED - ensure alarm off)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - ensure timer LED off before blinking)
[DEBUG] âœ… Timer setting found in DB: 5 seconds
[DEBUG] ðŸšª DOOR OPENED EVENT:
  â”œâ”€ Timer Duration: 5 seconds
  â”œâ”€ Global timer_duration: 5 seconds
  â”œâ”€ Current Time: 1761770397.0164974
  â””â”€ Will trigger alarm at: 1761770402.0164974
[DEBUG] log_event #7 [025d051f]: door_open - Door opened
[DEBUG] *** EVENT APPROVED FOR LOGGING [025d051f] ***: door_open
[DEBUG] Starting DB transaction [025d051f]...
[DEBUG] âœ… DB COMMIT SUCCESS [025d051f]: door_open -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_open...
[DEBUG] âœ… IMAGE CAPTURED [025d051f]:
[DEBUG]    File: door_open_2025-10-30_02-09-57.jpg
[DEBUG]    Size: 39905 bytes
[DEBUG]    Hash: b4588ee53745236f...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [025d051f]: Block #958
[ANOMALY] ðŸš¨ Odd hours access detected at 2:00
[DEBUG] Broadcasting WebSocket [025d051f]: door_open
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1022
[DEBUG]   - Type: door_open
[DEBUG]   - Image Path: static/captures/door_open_2025-10-30_02-09-57.jpg
[DEBUG]   - Image Hash: b4588ee53745236f...
[DEBUG]   - Full event dict: {'id': 1022, 'event_type': 'door_open', 'description': 'Door opened', 'timestamp': '2025-10-30 02:09:57', 'image_path': 'static/captures/door_open_2025-10-30_02-09-57.jpg', 'image_hash': 'b4588ee53745236f2bd59671e1fe7bb5f574a992b027544c33d898aeb1885793', 'image_timestamp': '2025-10-30 02:09:57', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_open
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 2
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_open' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [025d051f]: door_open
[DEBUG] â° ALARM TIMER STARTED:
  â”œâ”€ Duration: 5 seconds
  â”œâ”€ Start Time: 1761770397.508739
  â”œâ”€ Timer Active: True
  â””â”€ Door Open: True
  ðŸŽ¯ EXPECTED TRIGGER TIME: 1761770402.508739 (5s from now)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer start)
[DEBUG] ðŸ”´ LED will blink 5 times (1 blink = 1 second)
[DEBUG] ðŸŽ¯ Timer will expire at: 1761770402.509
[DEBUG] â±ï¸  Second 1: Elapsed=0.0s, Remaining=5.0s
[DEBUG] â° New timer thread started for 5s
[DEBUG] ðŸ” Verification - Thread args: (5,)
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #1 - Elapsed: 0.5s - Remaining: 4.5s
[DEBUG] â±ï¸  Second 2: Elapsed=1.0s, Remaining=4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #1 complete - Elapsed: 1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #2 - Elapsed: 1.5s - Remaining: 3.5s
[API] Polling request: Getting events since ID 1015
[API] Found 7 new events since ID 1015
[DEBUG] â±ï¸  Second 3: Elapsed=2.0s, Remaining=3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #2 complete - Elapsed: 2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #3 - Elapsed: 2.5s - Remaining: 2.5s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 4: Elapsed=3.0s, Remaining=2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #3 complete - Elapsed: 3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #4 - Elapsed: 3.5s - Remaining: 1.5s
[DEBUG] â±ï¸  Second 5: Elapsed=4.0s, Remaining=1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #4 complete - Elapsed: 4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #5 - Elapsed: 4.5s - Remaining: 0.5s
[DEBUG] ðŸ TIMER LOOP ENDED:
  â”œâ”€ Start Time: 1761770397.509
  â”œâ”€ End Time: 1761770402.535
  â”œâ”€ Elapsed Time: 5.026 seconds
  â”œâ”€ Expected Duration: 5 seconds
  â”œâ”€ Timer Active: True
  â”œâ”€ Door Open: True
  â””â”€ Should Trigger: True
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer cleanup)
[DEBUG] ðŸ”´ Red LED turned OFF
[DEBUG] âš ï¸ ALARM TRIGGERED:
  â”œâ”€ Duration Set: 5 seconds
  â”œâ”€ Actual Elapsed: 5.03 seconds
  â”œâ”€ Door Still Open: True
  â””â”€ Timer Was Active: False
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - before alarm activation)
[DEBUG] ðŸ”´ WHITE LED ON (Pin 16) - ALARM ACTIVE
[DEBUG] ðŸ” WHITE LED VERIFICATION: Pin 16 actual state = 1 (should be 1)
[DEBUG] ðŸŽµ AUDIO LINKED TO WHITE LED - Starting alarm sound...
[DEBUG] ðŸ”„ Preloaded audio now playing in continuous loop
[DEBUG] log_event #8 [657c5fb7]: alarm_triggered - Alarm triggered after 5 seconds
[DEBUG] *** EVENT APPROVED FOR LOGGING [657c5fb7] ***: alarm_triggered
[DEBUG] Starting DB transaction [657c5fb7]...
[DEBUG] âœ… DB COMMIT SUCCESS [657c5fb7]: alarm_triggered -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for alarm_triggered...
[API] Polling request: Getting events since ID 1015
[API] Found 8 new events since ID 1015INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:02] "GET /api/events?since=1015&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/alarm_triggered_2025-10-30_02-10-02.jpg
INFO:camera_helper:ðŸ“¸ Image captured: alarm_triggered_2025-10-30_02-10-02.jpg (36401 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:02] "GET /socket.io/?EIO=4&transport=polling&t=Penij-Q&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:03] "GET /socket.io/?EIO=4&transport=polling&t=PenilKo&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:05] "GET /api/events?since=1023&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:08] "GET /api/events?since=1023&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_close_2025-10-30_02-10-11.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_close_2025-10-30_02-10-11.jpg (33953 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:11] "GET /api/events?since=1023&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:11] "GET /static/captures/door_close_2025-10-30_02-10-11.jpg?v=1761770411581 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:11] "GET /socket.io/?EIO=4&transport=polling&t=PenilMd&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:14] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:15] "GET /socket.io/?EIO=4&transport=polling&t=PeninPs&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:15] "POST /socket.io/?EIO=4&transport=polling&t=PenioFI&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:17] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:20] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:22] "GET /event-log HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:22] "GET /static/captures/alarm_triggered_2025-10-30_02-10-02.jpg?v=1023 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:22] "GET /static/captures/door_close_2025-10-30_02-10-11.jpg?v=1024 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:22] "[36mGET /static/css/modern.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:22] "[36mGET /static/css/colors.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:22] "GET /static/captures/door_open_2025-10-30_02-09-57.jpg?v=1022 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "GET /static/captures/door_close_2025-10-30_02-01-49.jpg?v=1021 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "GET /static/captures/door_close_2025-10-30_01-58-46.jpg?v=1018 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "GET /static/captures/door_open_2025-10-30_02-01-39.jpg?v=1019 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/js/socket.js HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "GET /static/captures/alarm_triggered_2025-10-30_02-01-45.jpg?v=1020 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "GET /static/captures/alarm_triggered_2025-10-30_01-58-42.jpg?v=1017 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "GET /static/captures/door_open_2025-10-30_01-58-36.jpg?v=1016 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-53-12.jpg?v=1015 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-53-06.jpg?v=1014 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-53-01.jpg?v=1013 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-48-16.jpg?v=1012 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-48-10.jpg?v=1011 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-48-04.jpg?v=1010 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-47-52.jpg?v=1009 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-47-48.jpg?v=1008 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-47-43.jpg?v=1007 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-47-36.jpg?v=1006 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-47-32.jpg?v=1005 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-47-16.jpg?v=1002 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-47-21.jpg?v=1003 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-47-27.jpg?v=1004 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-46-46.jpg?v=1001 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-46-29.jpg?v=999 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-46-41.jpg?v=1000 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-46-24.jpg?v=998 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-41-56.jpg?v=997 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-41-48.jpg?v=995 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-32-03.jpg?v=994 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-41-54.jpg?v=996 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-32-00.jpg?v=993 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-27-09.jpg?v=991 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-31-54.jpg?v=992 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-26-59.jpg?v=990 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-24-02.jpg?v=987 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-26-53.jpg?v=989 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-24-04.jpg?v=988 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_open_2025-10-30_01-23-56.jpg?v=986 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-23-41.jpg?v=984 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:23] "[36mGET /static/captures/door_close_2025-10-30_01-23-49.jpg?v=985 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "[36mGET /static/captures/door_close_2025-10-30_01-23-22.jpg?v=982 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "[36mGET /static/captures/door_open_2025-10-30_01-23-36.jpg?v=983 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-23-21.jpg?v=981 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "[36mGET /static/captures/door_close_2025-10-30_01-20-41.jpg?v=979 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "[36mGET /static/captures/door_open_2025-10-30_01-23-16.jpg?v=980 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "[36mGET /static/captures/door_open_2025-10-30_01-20-32.jpg?v=977 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "[36mGET /static/captures/door_close_2025-10-30_01-13-02.jpg?v=976 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-20-37.jpg?v=978 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-12-59.jpg?v=975 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "GET /socket.io/?EIO=4&transport=polling&t=Peniqd7 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "GET /socket.io/?EIO=4&transport=polling&t=PeniqdU HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:24] "GET /api/events?per_page=1 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "POST /socket.io/?EIO=4&transport=polling&t=PeniqjM&sid=Vgd6xEGGz8FWbe9bAAAI HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "GET /socket.io/?EIO=4&transport=polling&t=PeniqjX&sid=Vgd6xEGGz8FWbe9bAAAI HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "POST /socket.io/?EIO=4&transport=polling&t=Peniqki&sid=Vgd6xEGGz8FWbe9bAAAI HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "GET /socket.io/?EIO=4&transport=polling&t=Peniqkb&sid=Vgd6xEGGz8FWbe9bAAAI HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "GET /socket.io/?EIO=4&transport=polling&t=PeniqlN&sid=Vgd6xEGGz8FWbe9bAAAI HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "POST /socket.io/?EIO=4&transport=polling&t=PeniqlT&sid=Vgd6xEGGz8FWbe9bAAAI HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "POST /socket.io/?EIO=4&transport=polling&t=PeniqqH&sid=Vgd6xEGGz8FWbe9bAAAI HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "GET /socket.io/?EIO=4&transport=polling&t=PeniqqQ HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "POST /socket.io/?EIO=4&transport=polling&t=Peniqrw&sid=Vgd6xEGGz8FWbe9bAAAI HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "GET /socket.io/?EIO=4&transport=polling&t=Peniqq2&sid=Vgd6xEGGz8FWbe9bAAAI HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "POST /socket.io/?EIO=4&transport=polling&t=Peniqs2&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "GET /socket.io/?EIO=4&transport=polling&t=Peniqs9&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "GET /socket.io/?EIO=4&transport=polling&t=PeniqtW&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "POST /socket.io/?EIO=4&transport=polling&t=Peniqtl&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:25] "GET /socket.io/?EIO=4&transport=polling&t=PeniquS&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:27] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_open_2025-10-30_02-10-28.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_open_2025-10-30_02-10-28.jpg (36439 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:29] "GET /socket.io/?EIO=4&transport=polling&t=PenioFL&sid=NC5h37b_E4oES3KfAAAF HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:29] "GET /socket.io/?EIO=4&transport=polling&t=Peniqwj&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:29] "GET /socket.io/?EIO=4&transport=polling&t=Penirkd&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -

[DEBUG] âœ… IMAGE CAPTURED [657c5fb7]:
[DEBUG]    File: alarm_triggered_2025-10-30_02-10-02.jpg
[DEBUG]    Size: 36401 bytes
[DEBUG]    Hash: a15b1663e815f080...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [657c5fb7]: Block #959
[DEBUG] Broadcasting WebSocket [657c5fb7]: alarm_triggered
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1023
[DEBUG]   - Type: alarm_triggered
[DEBUG]   - Image Path: static/captures/alarm_triggered_2025-10-30_02-10-02.jpg
[DEBUG]   - Image Hash: a15b1663e815f080...
[DEBUG]   - Full event dict: {'id': 1023, 'event_type': 'alarm_triggered', 'description': 'Alarm triggered after 5 seconds', 'timestamp': '2025-10-30 02:10:02', 'image_path': 'static/captures/alarm_triggered_2025-10-30_02-10-02.jpg', 'image_hash': 'a15b1663e815f08094405b2a1121294ab99c87f2d81e7acd585c5fc44d86bb75', 'image_timestamp': '2025-10-30 02:10:02', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: alarm_triggered
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 2
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'alarm_triggered' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [657c5fb7]: alarm_triggered
[ANOMALY] ðŸš¨ Prolonged open detected: 5s
[DEBUG] Attempting to send alarm email for duration: 5s
[DEBUG] Email config found - Sender: bsmscitech@gmail.com
[DEBUG] Recipients: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Connecting to Gmail SMTP...
[DEBUG] Attempting login...
[DEBUG] Sending email to 4 recipients...
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1023
[API] Found 0 new events since ID 1023
[SUCCESS] Alarm email sent successfully to: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Timer thread ending - Final state: timer_active=False, alarm_active=True
[API] Polling request: Getting events since ID 1023
[API] Found 0 new events since ID 1023
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸšª Door state change detected: True -> False
[DEBUG] ðŸšª Door closed - stopping all timers and alarms
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - door closed)
[DEBUG] ðŸ”‡ Audio alarm stopped immediately (both music and sound channels)
[DEBUG] âš« WHITE LED OFF (Pin 16) - ALARM DEACTIVATED
[DEBUG] âœ… Door closed. Timer and alarm deactivated.
[DEBUG] log_event #9 [63b460e3]: door_close - Door closed
[DEBUG] *** EVENT APPROVED FOR LOGGING [63b460e3] ***: door_close
[DEBUG] Starting DB transaction [63b460e3]...
[DEBUG] âœ… DB COMMIT SUCCESS [63b460e3]: door_close -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_close...
[DEBUG] ðŸ”‡ Alarm deactivated - stopping continuous loop
[DEBUG] ðŸ”‡ Audio monitoring stopped
[DEBUG] âœ… IMAGE CAPTURED [63b460e3]:
[DEBUG]    File: door_close_2025-10-30_02-10-11.jpg
[DEBUG]    Size: 33953 bytes
[DEBUG]    Hash: a5f453ba650df9fe...
[API] Polling request: Getting events since ID 1023
[API] Found 1 new events since ID 1023
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [63b460e3]: Block #960
[DEBUG] Broadcasting WebSocket [63b460e3]: door_close
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1024
[DEBUG]   - Type: door_close
[DEBUG]   - Image Path: static/captures/door_close_2025-10-30_02-10-11.jpg
[DEBUG]   - Image Hash: a5f453ba650df9fe...
[DEBUG]   - Full event dict: {'id': 1024, 'event_type': 'door_close', 'description': 'Door closed', 'timestamp': '2025-10-30 02:10:11', 'image_path': 'static/captures/door_close_2025-10-30_02-10-11.jpg', 'image_hash': 'a5f453ba650df9fead7e15a5f00332eb3a5d40579440606d510f30c061efdea1', 'image_timestamp': '2025-10-30 02:10:11', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_close
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 2
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_close' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [63b460e3]: door_close
[API] Polling request: Getting events since ID 1024
[API] Found 0 new events since ID 1024
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1024
[API] Found 0 new events since ID 1024
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1024
[API] Found 0 new events since ID 1024
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: i5Ews2wWD8H8H6vdAAAJ
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: i5Ews2wWD8H8H6vdAAAJ
  â”œâ”€ Total Connected Clients: 3
  â””â”€ Connection Time: 2025-10-30T02:10:25.224176
[WEBSOCKET] ðŸ“ Sending initial ping to i5Ews2wWD8H8H6vdAAAJ
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: i5Ews2wWD8H8H6vdAAAJ
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:40:25.258Z', 'page': '/event-log', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: i5Ews2wWD8H8H6vdAAAJ
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:40:25.266Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: i5Ews2wWD8H8H6vdAAAJ
  â”œâ”€ Remaining Clients: 2
  â””â”€ Disconnect Time: 2025-10-30T02:10:25.670916
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: 7HZq36IdyB392kE4AAAL
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: 7HZq36IdyB392kE4AAAL
  â”œâ”€ Total Connected Clients: 3
  â””â”€ Connection Time: 2025-10-30T02:10:25.797925
[WEBSOCKET] ðŸ“ Sending initial ping to 7HZq36IdyB392kE4AAAL
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: 7HZq36IdyB392kE4AAAL
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:40:25.828Z', 'page': '/event-log', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: 7HZq36IdyB392kE4AAAL
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:40:25.830Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[API] Polling request: Getting events since ID 1024
[API] Found 0 new events since ID 1024
[DEBUG] ðŸšª Door state change detected: False -> True
[DEBUG] ðŸ”§ GPIO Pin 16 set to LOW (White LED - ensure alarm off)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - ensure timer LED off before blinking)
[DEBUG] âœ… Timer setting found in DB: 5 seconds
[DEBUG] ðŸšª DOOR OPENED EVENT:
  â”œâ”€ Timer Duration: 5 seconds
  â”œâ”€ Global timer_duration: 5 seconds
  â”œâ”€ Current Time: 1761770428.9560554
  â””â”€ Will trigger alarm at: 1761770433.9560554
[DEBUG] log_event #10 [744ff632]: door_open - Door opened
[DEBUG] *** EVENT APPROVED FOR LOGGING [744ff632] ***: door_open
[DEBUG] Starting DB transaction [744ff632]...
[DEBUG] âœ… DB COMMIT SUCCESS [744ff632]: door_open -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_open...
[DEBUG] âœ… IMAGE CAPTURED [744ff632]:
[DEBUG]    File: door_open_2025-10-30_02-10-28.jpg
[DEBUG]    Size: 36439 bytes
[DEBUG]    Hash: 49af1cc57a8d7856...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [744ff632]: Block #961
[ANOMALY] ðŸš¨ Odd hours access detected at 2:00
[ANOMALY] ðŸš¨ Repeated opens: 3 times in 10 minutes
[DEBUG] Broadcasting WebSocket [744ff632]: door_open
[DEBUG] Event data being broadcast:INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:29] "GET /socket.io/?EIO=4&transport=polling&t=PenirlB&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:30] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:31] "GET /api/events/1025 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:31] "GET /static/captures/door_open_2025-10-30_02-10-28.jpg?v=1761770431032 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:34] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/alarm_triggered_2025-10-30_02-10-34.jpg
INFO:camera_helper:ðŸ“¸ Image captured: alarm_triggered_2025-10-30_02-10-34.jpg (42180 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:35] "GET /socket.io/?EIO=4&transport=polling&t=Penirlj&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:35] "GET /socket.io/?EIO=4&transport=polling&t=PenitFJ&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:36] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:37] "GET /api/events/1026 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:37] "GET /static/captures/alarm_triggered_2025-10-30_02-10-34.jpg?v=1761770437093 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:39] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_close_2025-10-30_02-10-41.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_close_2025-10-30_02-10-41.jpg (39296 bytes)

[DEBUG]   - ID: 1025
[DEBUG]   - Type: door_open
[DEBUG]   - Image Path: static/captures/door_open_2025-10-30_02-10-28.jpg
[DEBUG]   - Image Hash: 49af1cc57a8d7856...
[DEBUG]   - Full event dict: {'id': 1025, 'event_type': 'door_open', 'description': 'Door opened', 'timestamp': '2025-10-30 02:10:28', 'image_path': 'static/captures/door_open_2025-10-30_02-10-28.jpg', 'image_hash': '49af1cc57a8d7856e073ac976110a4231f049feef1655e51c3771a713390e176', 'image_timestamp': '2025-10-30 02:10:28', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_open
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_open' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [744ff632]: door_open
[DEBUG] â° ALARM TIMER STARTED:
  â”œâ”€ Duration: 5 seconds
  â”œâ”€ Start Time: 1761770429.3985927
  â”œâ”€ Timer Active: True
  â””â”€ Door Open: True
  ðŸŽ¯ EXPECTED TRIGGER TIME: 1761770434.3985927 (5s from now)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer start)
[DEBUG] ðŸ”´ LED will blink 5 times (1 blink = 1 second)
[DEBUG] ðŸŽ¯ Timer will expire at: 1761770434.399
[DEBUG] â±ï¸  Second 1: Elapsed=0.0s, Remaining=5.0s
[DEBUG] â° New timer thread started for 5s
[DEBUG] ðŸ” Verification - Thread args: (5,)
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #1 - Elapsed: 0.5s - Remaining: 4.5s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 2: Elapsed=1.0s, Remaining=4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #1 complete - Elapsed: 1.0s
[API] Polling request: Getting events since ID 1024
[API] Found 1 new events since ID 1024
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #2 - Elapsed: 1.5s - Remaining: 3.5s
[DEBUG] â±ï¸  Second 3: Elapsed=2.0s, Remaining=3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #2 complete - Elapsed: 2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #3 - Elapsed: 2.5s - Remaining: 2.5s
[DEBUG] â±ï¸  Second 4: Elapsed=3.0s, Remaining=2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #3 complete - Elapsed: 3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #4 - Elapsed: 3.5s - Remaining: 1.5s
[DEBUG] â±ï¸  Second 5: Elapsed=4.0s, Remaining=1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #4 complete - Elapsed: 4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #5 - Elapsed: 4.5s - Remaining: 0.5s
[API] Polling request: Getting events since ID 1024
[API] Found 1 new events since ID 1024
[DEBUG] ðŸ TIMER LOOP ENDED:
  â”œâ”€ Start Time: 1761770429.399
  â”œâ”€ End Time: 1761770434.438
  â”œâ”€ Elapsed Time: 5.039 seconds
  â”œâ”€ Expected Duration: 5 seconds
  â”œâ”€ Timer Active: True
  â”œâ”€ Door Open: True
  â””â”€ Should Trigger: True
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer cleanup)
[DEBUG] ðŸ”´ Red LED turned OFF
[DEBUG] âš ï¸ ALARM TRIGGERED:
  â”œâ”€ Duration Set: 5 seconds
  â”œâ”€ Actual Elapsed: 5.04 seconds
  â”œâ”€ Door Still Open: True
  â””â”€ Timer Was Active: False
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - before alarm activation)
[DEBUG] ðŸ”´ WHITE LED ON (Pin 16) - ALARM ACTIVE
[DEBUG] ðŸ” WHITE LED VERIFICATION: Pin 16 actual state = 1 (should be 1)
[DEBUG] ðŸŽµ AUDIO LINKED TO WHITE LED - Starting alarm sound...
[DEBUG] ðŸ”„ Preloaded audio now playing in continuous loop
[DEBUG] log_event #11 [b3802b61]: alarm_triggered - Alarm triggered after 5 seconds
[DEBUG] *** EVENT APPROVED FOR LOGGING [b3802b61] ***: alarm_triggered
[DEBUG] Starting DB transaction [b3802b61]...
[DEBUG] âœ… DB COMMIT SUCCESS [b3802b61]: alarm_triggered -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for alarm_triggered...
[DEBUG] âœ… IMAGE CAPTURED [b3802b61]:
[DEBUG]    File: alarm_triggered_2025-10-30_02-10-34.jpg
[DEBUG]    Size: 42180 bytes
[DEBUG]    Hash: 4613816ca15aa2a4...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [b3802b61]: Block #962
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] Broadcasting WebSocket [b3802b61]: alarm_triggered
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1026
[DEBUG]   - Type: alarm_triggered
[DEBUG]   - Image Path: static/captures/alarm_triggered_2025-10-30_02-10-34.jpg
[DEBUG]   - Image Hash: 4613816ca15aa2a4...
[DEBUG]   - Full event dict: {'id': 1026, 'event_type': 'alarm_triggered', 'description': 'Alarm triggered after 5 seconds', 'timestamp': '2025-10-30 02:10:34', 'image_path': 'static/captures/alarm_triggered_2025-10-30_02-10-34.jpg', 'image_hash': '4613816ca15aa2a4c3fad35ff4e1db4b087f5c1cb31878e2e69e84cd81db3b3d', 'image_timestamp': '2025-10-30 02:10:34', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: alarm_triggered
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'alarm_triggered' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [b3802b61]: alarm_triggered
[ANOMALY] ðŸš¨ Prolonged open detected: 5s
[DEBUG] Attempting to send alarm email for duration: 5s
[DEBUG] Email config found - Sender: bsmscitech@gmail.com
[DEBUG] Recipients: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Connecting to Gmail SMTP...
[DEBUG] Attempting login...
[DEBUG] Sending email to 4 recipients...
[API] Polling request: Getting events since ID 1024
[API] Found 2 new events since ID 1024
[SUCCESS] Alarm email sent successfully to: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Timer thread ending - Final state: timer_active=False, alarm_active=True
[API] Polling request: Getting events since ID 1024
[API] Found 2 new events since ID 1024
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸšª Door state change detected: True -> False
[DEBUG] ðŸšª Door closed - stopping all timers and alarms
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - door closed)
[DEBUG] ðŸ”‡ Audio alarm stopped immediately (both music and sound channels)
[DEBUG] âš« WHITE LED OFF (Pin 16) - ALARM DEACTIVATED
[DEBUG] âœ… Door closed. Timer and alarm deactivated.
[DEBUG] log_event #12 [510feea1]: door_close - Door closed
[DEBUG] *** EVENT APPROVED FOR LOGGING [510feea1] ***: door_close
[DEBUG] Starting DB transaction [510feea1]...
[DEBUG] âœ… DB COMMIT SUCCESS [510feea1]: door_close -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_close...
[DEBUG] ðŸ”‡ Alarm deactivated - stopping continuous loop
[DEBUG] ðŸ”‡ Audio monitoring stopped
[DEBUG] âœ… IMAGE CAPTURED [510feea1]:
[DEBUG]    File: door_close_2025-10-30_02-10-41.jpg
[DEBUG]    Size: 39296 bytes
[DEBUG]    Hash: d35d9b7a54db3553...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [510feea1]: Block #963
[DEBUG] Broadcasting WebSocket [510feea1]: door_close
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1027
[DEBUG]   - Type: door_close
[DEBUG]   - Image Path: static/captures/door_close_2025-10-30_02-10-41.jpg
[DEBUG]   - Image Hash: d35d9b7a54db3553...
[DEBUG]   - Full event dict: {'id': 1027, 'event_type': 'door_close', 'description': 'Door closed', 'timestamp': '2025-10-30 02:10:41', 'image_path': 'static/captures/door_close_2025-10-30_02-10-41.jpg', 'image_hash': 'd35d9b7a54db35534afc75241c3a00f5dd776075e73a9b5659fe1e6afb3c23ae', 'image_timestamp': '2025-10-30 02:10:41', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_close
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:41] "GET /socket.io/?EIO=4&transport=polling&t=PenitNI&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:42] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:43] "GET /api/events/1027 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:43] "GET /static/captures/door_close_2025-10-30_02-10-41.jpg?v=1761770443450 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:45] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:48] "GET /api/events?since=1024&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:50] "GET /socket.io/?EIO=4&transport=polling&t=PeniumV&sid=1Tvo1XmlDKdMkcQ4AAAK HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:50] "GET /dashboard HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:51] "[36mGET /static/css/dashboard-realtime.css HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:51] "[36mGET /static/js/dashboard-realtime.js HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:51] "[36mGET /static/css/colors.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:51] "[36mGET /static/css/modern.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:51] "[36mGET /static/js/socket.js HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "GET /socket.io/?EIO=4&transport=polling&t=PenixGB HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "GET /socket.io/?EIO=4&transport=polling&t=PenixF- HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "GET /api/company-profile HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "POST /socket.io/?EIO=4&transport=polling&t=PenixJ7&sid=dr6TkNhYzIHXOnQcAAAM HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "GET /socket.io/?EIO=4&transport=polling&t=PenixJA&sid=dr6TkNhYzIHXOnQcAAAM HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "GET /api/events?per_page=1 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "GET /api/blockchain/stats HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "[36mGET /static/uploads/company_logo_20251022_213028.png HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "GET /socket.io/?EIO=4&transport=polling&t=PenixQW&sid=dr6TkNhYzIHXOnQcAAAM HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "POST /socket.io/?EIO=4&transport=polling&t=PenixQc&sid=dr6TkNhYzIHXOnQcAAAM HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "GET /socket.io/?EIO=4&transport=polling&t=PenixRy&sid=dr6TkNhYzIHXOnQcAAAM HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "POST /socket.io/?EIO=4&transport=polling&t=PenixR_&sid=dr6TkNhYzIHXOnQcAAAM HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "POST /socket.io/?EIO=4&transport=polling&t=PenixUu&sid=dr6TkNhYzIHXOnQcAAAM HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:52] "GET /socket.io/?EIO=4&transport=polling&t=PenixU- HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:53] "POST /socket.io/?EIO=4&transport=polling&t=PenixX3&sid=dr6TkNhYzIHXOnQcAAAM HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:53] "GET /socket.io/?EIO=4&transport=polling&t=PenixTC&sid=dr6TkNhYzIHXOnQcAAAM HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:53] "GET /socket.io/?EIO=4&transport=polling&t=PenixXX&sid=R9aX_8aQoJDw8ISDAAAP HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:53] "POST /socket.io/?EIO=4&transport=polling&t=PenixXU&sid=R9aX_8aQoJDw8ISDAAAP HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:53] "GET /socket.io/?EIO=4&transport=polling&t=Penixaw&sid=R9aX_8aQoJDw8ISDAAAP HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:53] "POST /socket.io/?EIO=4&transport=polling&t=Penixb5&sid=R9aX_8aQoJDw8ISDAAAP HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:53] "GET /api/dashboard HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:53] "GET /socket.io/?EIO=4&transport=polling&t=Penixcl&sid=R9aX_8aQoJDw8ISDAAAP HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:55] "GET /api/dashboard HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:10:59] "GET /api/dashboard HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:02] "GET /api/dashboard HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:05] "GET /api/dashboard HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:06] "POST /api/settings HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:06] "GET /socket.io/?EIO=4&transport=polling&t=PenixdZ&sid=R9aX_8aQoJDw8ISDAAAP HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:06] "GET /api/dashboard HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:07] "GET /api/dashboard HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:11] "GET /api/dashboard HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:12] "GET /event-log HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:12] "GET /static/captures/door_close_2025-10-30_02-10-41.jpg?v=1027 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:12] "GET /static/captures/alarm_triggered_2025-10-30_02-10-34.jpg?v=1026 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:12] "[36mGET /static/css/colors.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:12] "[36mGET /static/css/modern.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:12] "GET /static/captures/door_open_2025-10-30_02-10-28.jpg?v=1025 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:12] "[36mGET /static/captures/door_close_2025-10-30_02-10-11.jpg?v=1024 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/alarm_triggered_2025-10-30_02-10-02.jpg?v=1023 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_close_2025-10-30_02-01-49.jpg?v=1021 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/js/socket.js HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_open_2025-10-30_02-01-39.jpg?v=1019 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_open_2025-10-30_02-09-57.jpg?v=1022 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/alarm_triggered_2025-10-30_02-01-45.jpg?v=1020 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_close_2025-10-30_01-58-46.jpg?v=1018 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-58-42.jpg?v=1017 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-53-06.jpg?v=1014 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_close_2025-10-30_01-53-12.jpg?v=1015 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_open_2025-10-30_01-58-36.jpg?v=1016 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_close_2025-10-30_01-48-16.jpg?v=1012 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-48-10.jpg?v=1011 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_open_2025-10-30_01-53-01.jpg?v=1013 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_open_2025-10-30_01-48-04.jpg?v=1010 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_close_2025-10-30_01-47-52.jpg?v=1009 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-47-48.jpg?v=1008 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_open_2025-10-30_01-47-43.jpg?v=1007 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_close_2025-10-30_01-47-36.jpg?v=1006 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-47-32.jpg?v=1005 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_open_2025-10-30_01-47-27.jpg?v=1004 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_open_2025-10-30_01-47-16.jpg?v=1002 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_close_2025-10-30_01-47-21.jpg?v=1003 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_close_2025-10-30_01-46-46.jpg?v=1001 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:13] "[36mGET /static/captures/door_open_2025-10-30_01-46-41.jpg?v=1000 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_close_2025-10-30_01-46-29.jpg?v=999 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_close_2025-10-30_01-41-56.jpg?v=997 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_open_2025-10-30_01-46-24.jpg?v=998 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-41-54.jpg?v=996 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_close_2025-10-30_01-32-03.jpg?v=994 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_open_2025-10-30_01-41-48.jpg?v=995 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-32-00.jpg?v=993 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_open_2025-10-30_01-31-54.jpg?v=992 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_close_2025-10-30_01-27-09.jpg?v=991 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-26-59.jpg?v=990 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_open_2025-10-30_01-23-56.jpg?v=986 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-24-02.jpg?v=987 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_open_2025-10-30_01-26-53.jpg?v=989 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_close_2025-10-30_01-23-49.jpg?v=985 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_close_2025-10-30_01-24-04.jpg?v=988 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-23-41.jpg?v=984 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_open_2025-10-30_01-23-36.jpg?v=983 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_close_2025-10-30_01-20-41.jpg?v=979 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_close_2025-10-30_01-23-22.jpg?v=982 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-23-21.jpg?v=981 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:14] "[36mGET /static/captures/door_open_2025-10-30_01-23-16.jpg?v=980 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:15] "GET /socket.io/?EIO=4&transport=polling&t=Penj0xo HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:15] "GET /socket.io/?EIO=4&transport=polling&t=Penj0xe HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:15] "GET /api/events?per_page=1 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:15] "POST /socket.io/?EIO=4&transport=polling&t=Penj0yW&sid=8VgwaJm3CquMi7w7AAAU HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:15] "GET /socket.io/?EIO=4&transport=polling&t=Penj0yc&sid=8VgwaJm3CquMi7w7AAAU HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:15] "POST /socket.io/?EIO=4&transport=polling&t=Penj0zG&sid=8VgwaJm3CquMi7w7AAAU HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:15] "GET /socket.io/?EIO=4&transport=polling&t=Penj0zA&sid=8VgwaJm3CquMi7w7AAAU HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:15] "POST /socket.io/?EIO=4&transport=polling&t=Penj0zk&sid=8VgwaJm3CquMi7w7AAAU HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:15] "GET /socket.io/?EIO=4&transport=polling&t=Penj0zo&sid=8VgwaJm3CquMi7w7AAAU HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:16] "POST /socket.io/?EIO=4&transport=polling&t=Penj18T&sid=8VgwaJm3CquMi7w7AAAU HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:16] "GET /socket.io/?EIO=4&transport=polling&t=Penj18a HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:16] "POST /socket.io/?EIO=4&transport=polling&t=Penj1Au&sid=8VgwaJm3CquMi7w7AAAU HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:16] "GET /socket.io/?EIO=4&transport=polling&t=Penj0-E&sid=8VgwaJm3CquMi7w7AAAU HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:16] "POST /socket.io/?EIO=4&transport=polling&t=Penj1B1&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:16] "GET /socket.io/?EIO=4&transport=polling&t=Penj1B9&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:16] "POST /socket.io/?EIO=4&transport=polling&t=Penj1CK&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:16] "GET /socket.io/?EIO=4&transport=polling&t=Penj1CF&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:16] "POST /socket.io/?EIO=4&transport=polling&t=Penj1DH&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:16] "GET /socket.io/?EIO=4&transport=polling&t=Penj1Dm&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:17] "GET /socket.io/?EIO=4&transport=polling&t=Peni-mv&sid=R9aX_8aQoJDw8ISDAAAP HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:18] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:21] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -

  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_close' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [510feea1]: door_close
[API] Polling request: Getting events since ID 1024
[API] Found 3 new events since ID 1024
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1024
[API] Found 3 new events since ID 1024
[API] Polling request: Getting events since ID 1024
[API] Found 3 new events since ID 1024
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: vn16l2pYF2knildOAAAO
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: vn16l2pYF2knildOAAAO
  â”œâ”€ Total Connected Clients: 4
  â””â”€ Connection Time: 2025-10-30T02:10:52.195121
[WEBSOCKET] ðŸ“ Sending initial ping to vn16l2pYF2knildOAAAO
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: vn16l2pYF2knildOAAAO
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:40:52.644Z', 'page': '/dashboard', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: vn16l2pYF2knildOAAAO
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:40:52.653Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: vn16l2pYF2knildOAAAO
  â”œâ”€ Remaining Clients: 3
  â””â”€ Disconnect Time: 2025-10-30T02:10:52.952144
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: JsqNVVlV39t-FysHAAAR
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: JsqNVVlV39t-FysHAAAR
  â”œâ”€ Total Connected Clients: 4
  â””â”€ Connection Time: 2025-10-30T02:10:53.230868
[WEBSOCKET] ðŸ“ Sending initial ping to JsqNVVlV39t-FysHAAAR
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: NsrSkjgjuY-0LVLUAAAS
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: http://192.168.31.227:5000
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: NsrSkjgjuY-0LVLUAAAS
  â”œâ”€ Total Connected Clients: 5
  â””â”€ Connection Time: 2025-10-30T02:10:53.337055
[WEBSOCKET] ðŸ“ Sending initial ping to NsrSkjgjuY-0LVLUAAAS
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: JsqNVVlV39t-FysHAAAR
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:40:53.310Z', 'page': '/dashboard', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: JsqNVVlV39t-FysHAAAR
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:40:53.311Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: NsrSkjgjuY-0LVLUAAAS
  â”œâ”€ Client Data: {'page': 'dashboard', 'timestamp': '2025-10-29T20:40:53.354Z'}
  â””â”€ Acknowledging client ready state
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[DEBUG] log_event #13 [cdecb767]: setting_changed - Timer duration changed to 25 seconds
[DEBUG] *** EVENT APPROVED FOR LOGGING [cdecb767] ***: setting_changed
[DEBUG] Starting DB transaction [cdecb767]...
[DEBUG] âœ… DB COMMIT SUCCESS [cdecb767]: setting_changed -> DB
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [cdecb767]: Block #964
[DEBUG] Broadcasting WebSocket [cdecb767]: setting_changed
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1028
[DEBUG]   - Type: setting_changed
[DEBUG]   - Image Path: None
[DEBUG]   - Image Hash: None...
[DEBUG]   - Full event dict: {'id': 1028, 'event_type': 'setting_changed', 'description': 'Timer duration changed to 25 seconds', 'timestamp': '2025-10-30 02:11:06', 'image_path': None, 'image_hash': None, 'image_timestamp': None, 'has_image': False}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: setting_changed
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 5
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'setting_changed' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [cdecb767]: setting_changed
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: NsrSkjgjuY-0LVLUAAAS
  â”œâ”€ Remaining Clients: 4
  â””â”€ Disconnect Time: 2025-10-30T02:11:13.161853
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: A9cDgjtaNoAo3qZNAAAV
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: A9cDgjtaNoAo3qZNAAAV
  â”œâ”€ Total Connected Clients: 5
  â””â”€ Connection Time: 2025-10-30T02:11:15.318875
[WEBSOCKET] ðŸ“ Sending initial ping to A9cDgjtaNoAo3qZNAAAV
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: A9cDgjtaNoAo3qZNAAAV
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:41:15.343Z', 'page': '/event-log', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: A9cDgjtaNoAo3qZNAAAV
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:41:15.346Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: A9cDgjtaNoAo3qZNAAAV
  â”œâ”€ Remaining Clients: 4
  â””â”€ Disconnect Time: 2025-10-30T02:11:16.171148
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: A_qEvk4cuSUh5KdCAAAX
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: A_qEvk4cuSUh5KdCAAAX
  â”œâ”€ Total Connected Clients: 5
  â””â”€ Connection Time: 2025-10-30T02:11:16.274751
[WEBSOCKET] ðŸ“ Sending initial ping to A_qEvk4cuSUh5KdCAAAX
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: A_qEvk4cuSUh5KdCAAAX
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:41:16.307Z', 'page': '/event-log', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: A_qEvk4cuSUh5KdCAAAX
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:41:16.318Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[API] Polling request: Getting events since ID 1028
[API] Found 0 new events since ID 1028
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1028
[API] Found 0 new events since ID 1028
[DEBUG] ðŸšª Door state change detected: False -> True
[DEBUG] ðŸ”§ GPIO Pin 16 set to LOW (White LED - ensure alarm off)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - ensure timer LED off before blinking)
[DEBUG] âœ… Timer setting found in DB: 25 seconds
[DEBUG] ðŸšª DOOR OPENED EVENT:
  â”œâ”€ Timer Duration: 25 seconds
  â”œâ”€ Global timer_duration: 25 seconds
  â”œâ”€ Current Time: 1761770482.5679088
  â””â”€ Will trigger alarm at: 1761770507.5679088
[DEBUG] log_event #14 [229cbc67]: door_open - Door openedINFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_open_2025-10-30_02-11-22.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_open_2025-10-30_02-11-22.jpg (42240 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:22] "GET /socket.io/?EIO=4&transport=polling&t=Penj1IY&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:23] "GET /socket.io/?EIO=4&transport=polling&t=Penj2rE&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:24] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:24] "GET /api/events/1029 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:24] "GET /static/captures/door_open_2025-10-30_02-11-22.jpg?v=1761770484677 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:27] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:30] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:33] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:36] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:39] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -

[DEBUG] *** EVENT APPROVED FOR LOGGING [229cbc67] ***: door_open
[DEBUG] Starting DB transaction [229cbc67]...
[DEBUG] âœ… DB COMMIT SUCCESS [229cbc67]: door_open -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_open...
[DEBUG] âœ… IMAGE CAPTURED [229cbc67]:
[DEBUG]    File: door_open_2025-10-30_02-11-22.jpg
[DEBUG]    Size: 42240 bytes
[DEBUG]    Hash: 9233cb246d4ef255...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [229cbc67]: Block #965
[ANOMALY] ðŸš¨ Odd hours access detected at 2:00
[ANOMALY] ðŸš¨ Repeated opens: 4 times in 10 minutes
[DEBUG] Broadcasting WebSocket [229cbc67]: door_open
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1029
[DEBUG]   - Type: door_open
[DEBUG]   - Image Path: static/captures/door_open_2025-10-30_02-11-22.jpg
[DEBUG]   - Image Hash: 9233cb246d4ef255...
[DEBUG]   - Full event dict: {'id': 1029, 'event_type': 'door_open', 'description': 'Door opened', 'timestamp': '2025-10-30 02:11:22', 'image_path': 'static/captures/door_open_2025-10-30_02-11-22.jpg', 'image_hash': '9233cb246d4ef255ad616bdeb41f522c73497c8f4c494bff54b7ea35d67d7447', 'image_timestamp': '2025-10-30 02:11:22', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_open
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 5
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_open' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [229cbc67]: door_open
[DEBUG] â° ALARM TIMER STARTED:
  â”œâ”€ Duration: 25 seconds
  â”œâ”€ Start Time: 1761770483.0410872
  â”œâ”€ Timer Active: True
  â””â”€ Door Open: True
  ðŸŽ¯ EXPECTED TRIGGER TIME: 1761770508.0410872 (25s from now)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer start)
[DEBUG] ðŸ”´ LED will blink 25 times (1 blink = 1 second)
[DEBUG] ðŸŽ¯ Timer will expire at: 1761770508.041
[DEBUG] â±ï¸  Second 1: Elapsed=0.0s, Remaining=25.0s
[DEBUG] â° New timer thread started for 25s
[DEBUG] ðŸ” Verification - Thread args: (25,)
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #1 - Elapsed: 0.5s - Remaining: 24.5s
[DEBUG] â±ï¸  Second 2: Elapsed=1.0s, Remaining=24.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #1 complete - Elapsed: 1.0s
[API] Polling request: Getting events since ID 1028
[API] Found 1 new events since ID 1028
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #2 - Elapsed: 1.5s - Remaining: 23.5s
[DEBUG] â±ï¸  Second 3: Elapsed=2.0s, Remaining=23.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #2 complete - Elapsed: 2.0s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #3 - Elapsed: 2.5s - Remaining: 22.5s
[DEBUG] â±ï¸  Second 4: Elapsed=3.0s, Remaining=22.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #3 complete - Elapsed: 3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #4 - Elapsed: 3.5s - Remaining: 21.5s
[DEBUG] â±ï¸  Second 5: Elapsed=4.0s, Remaining=21.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #4 complete - Elapsed: 4.0s
[API] Polling request: Getting events since ID 1028
[API] Found 1 new events since ID 1028
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #5 - Elapsed: 4.5s - Remaining: 20.5s
[DEBUG] â±ï¸  Second 6: Elapsed=5.0s, Remaining=20.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #5 complete - Elapsed: 5.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #6 - Elapsed: 5.5s - Remaining: 19.5s
[DEBUG] â±ï¸  Second 7: Elapsed=6.0s, Remaining=19.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #6 complete - Elapsed: 6.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #7 - Elapsed: 6.5s - Remaining: 18.5s
[DEBUG] â±ï¸  Second 8: Elapsed=7.0s, Remaining=18.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #7 complete - Elapsed: 7.0s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1028
[API] Found 1 new events since ID 1028
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #8 - Elapsed: 7.5s - Remaining: 17.5s
[DEBUG] â±ï¸  Second 9: Elapsed=8.0s, Remaining=17.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #8 complete - Elapsed: 8.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #9 - Elapsed: 8.5s - Remaining: 16.5s
[DEBUG] â±ï¸  Second 10: Elapsed=9.1s, Remaining=15.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #9 complete - Elapsed: 9.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #10 - Elapsed: 9.6s - Remaining: 15.4s
[DEBUG] â±ï¸  Second 11: Elapsed=10.1s, Remaining=14.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #10 complete - Elapsed: 10.1s
[API] Polling request: Getting events since ID 1028
[API] Found 1 new events since ID 1028
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #11 - Elapsed: 10.6s - Remaining: 14.4s
[DEBUG] â±ï¸  Second 12: Elapsed=11.1s, Remaining=13.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #11 complete - Elapsed: 11.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #12 - Elapsed: 11.6s - Remaining: 13.4s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 13: Elapsed=12.1s, Remaining=12.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #12 complete - Elapsed: 12.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #13 - Elapsed: 12.6s - Remaining: 12.4s
[DEBUG] â±ï¸  Second 14: Elapsed=13.1s, Remaining=11.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #13 complete - Elapsed: 13.1s
[API] Polling request: Getting events since ID 1028
[API] Found 1 new events since ID 1028
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #14 - Elapsed: 13.6s - Remaining: 11.4s
[DEBUG] â±ï¸  Second 15: Elapsed=14.1s, Remaining=10.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #14 complete - Elapsed: 14.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #15 - Elapsed: 14.6s - Remaining: 10.4s
[DEBUG] â±ï¸  Second 16: Elapsed=15.0s, Remaining=10.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #15 complete - Elapsed: 15.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #16 - Elapsed: 15.6s - Remaining: 9.4s
[DEBUG] â±ï¸  Second 17: Elapsed=16.0s, Remaining=9.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #16 complete - Elapsed: 16.1s
[API] Polling request: Getting events since ID 1028
[API] Found 1 new events since ID 1028
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #17 - Elapsed: 16.6s - Remaining: 8.4s
[DEBUG] â±ï¸  Second 18: Elapsed=17.0s, Remaining=8.0s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #17 complete - Elapsed: 17.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:41] "GET /socket.io/?EIO=4&transport=polling&t=Penj2se&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:41] "POST /socket.io/?EIO=4&transport=polling&t=Penj7HA&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:42] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:45] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:48] "GET /api/events?since=1028&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/alarm_triggered_2025-10-30_02-11-48.jpg
INFO:camera_helper:ðŸ“¸ Image captured: alarm_triggered_2025-10-30_02-11-48.jpg (38521 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:48] "GET /socket.io/?EIO=4&transport=polling&t=Penj7HE&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:48] "GET /socket.io/?EIO=4&transport=polling&t=Penj96R&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:51] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:54] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:11:57] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:00] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:03] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:06] "GET /socket.io/?EIO=4&transport=polling&t=Penj97S&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:06] "POST /socket.io/?EIO=4&transport=polling&t=PenjDPE&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:06] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:09] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:12] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:15] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:18] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:21] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_close_2025-10-30_02-12-23.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_close_2025-10-30_02-12-23.jpg (37150 bytes)

[DEBUG] ðŸ”´ RED LED ON - Blink #18 - Elapsed: 17.6s - Remaining: 7.4s
[DEBUG] â±ï¸  Second 19: Elapsed=18.0s, Remaining=7.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #18 complete - Elapsed: 18.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #19 - Elapsed: 18.6s - Remaining: 6.4s
[DEBUG] â±ï¸  Second 20: Elapsed=19.0s, Remaining=6.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #19 complete - Elapsed: 19.1s
[API] Polling request: Getting events since ID 1028
[API] Found 1 new events since ID 1028
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #20 - Elapsed: 19.6s - Remaining: 5.4s
[DEBUG] â±ï¸  Second 21: Elapsed=20.0s, Remaining=5.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #20 complete - Elapsed: 20.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #21 - Elapsed: 20.6s - Remaining: 4.4s
[DEBUG] â±ï¸  Second 22: Elapsed=21.0s, Remaining=4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #21 complete - Elapsed: 21.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #22 - Elapsed: 21.6s - Remaining: 3.4s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 23: Elapsed=22.0s, Remaining=3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #22 complete - Elapsed: 22.1s
[API] Polling request: Getting events since ID 1028
[API] Found 1 new events since ID 1028
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #23 - Elapsed: 22.6s - Remaining: 2.4s
[DEBUG] â±ï¸  Second 24: Elapsed=23.0s, Remaining=2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #23 complete - Elapsed: 23.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #24 - Elapsed: 23.6s - Remaining: 1.4s
[DEBUG] â±ï¸  Second 25: Elapsed=24.0s, Remaining=1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #24 complete - Elapsed: 24.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #25 - Elapsed: 24.6s - Remaining: 0.4s
[DEBUG] ðŸ TIMER LOOP ENDED:
  â”œâ”€ Start Time: 1761770483.041
  â”œâ”€ End Time: 1761770508.086
  â”œâ”€ Elapsed Time: 25.044 seconds
  â”œâ”€ Expected Duration: 25 seconds
  â”œâ”€ Timer Active: True
  â”œâ”€ Door Open: True
  â””â”€ Should Trigger: True
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer cleanup)
[DEBUG] ðŸ”´ Red LED turned OFF
[DEBUG] âš ï¸ ALARM TRIGGERED:
  â”œâ”€ Duration Set: 25 seconds
  â”œâ”€ Actual Elapsed: 25.04 seconds
  â”œâ”€ Door Still Open: True
  â””â”€ Timer Was Active: False
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - before alarm activation)
[DEBUG] ðŸ”´ WHITE LED ON (Pin 16) - ALARM ACTIVE
[DEBUG] ðŸ” WHITE LED VERIFICATION: Pin 16 actual state = 1 (should be 1)
[DEBUG] ðŸŽµ AUDIO LINKED TO WHITE LED - Starting alarm sound...
[DEBUG] ðŸ”„ Preloaded audio now playing in continuous loop
[DEBUG] log_event #15 [da1d7c15]: alarm_triggered - Alarm triggered after 25 seconds
[DEBUG] *** EVENT APPROVED FOR LOGGING [da1d7c15] ***: alarm_triggered
[DEBUG] Starting DB transaction [da1d7c15]...
[DEBUG] âœ… DB COMMIT SUCCESS [da1d7c15]: alarm_triggered -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for alarm_triggered...
[API] Polling request: Getting events since ID 1028
[API] Found 2 new events since ID 1028
[DEBUG] âœ… IMAGE CAPTURED [da1d7c15]:
[DEBUG]    File: alarm_triggered_2025-10-30_02-11-48.jpg
[DEBUG]    Size: 38521 bytes
[DEBUG]    Hash: 9d380a7c8e742d7b...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [da1d7c15]: Block #966
[DEBUG] Broadcasting WebSocket [da1d7c15]: alarm_triggered
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1030
[DEBUG]   - Type: alarm_triggered
[DEBUG]   - Image Path: static/captures/alarm_triggered_2025-10-30_02-11-48.jpg
[DEBUG]   - Image Hash: 9d380a7c8e742d7b...
[DEBUG]   - Full event dict: {'id': 1030, 'event_type': 'alarm_triggered', 'description': 'Alarm triggered after 25 seconds', 'timestamp': '2025-10-30 02:11:48', 'image_path': 'static/captures/alarm_triggered_2025-10-30_02-11-48.jpg', 'image_hash': '9d380a7c8e742d7b77c9107c31f16478ef21cceebc3cf68205a87d7e96e9b470', 'image_timestamp': '2025-10-30 02:11:48', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: alarm_triggered
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 5
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: YDMcDd_G8UQ7ODbyAAAG
  â”œâ”€ Remaining Clients: 4
  â””â”€ Disconnect Time: 2025-10-30T02:11:48.501080
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'alarm_triggered' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [da1d7c15]: alarm_triggered
[ANOMALY] ðŸš¨ Prolonged open detected: 25s
[DEBUG] Attempting to send alarm email for duration: 25s
[DEBUG] Email config found - Sender: bsmscitech@gmail.com
[DEBUG] Recipients: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Connecting to Gmail SMTP...
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] Attempting login...
[DEBUG] Sending email to 4 recipients...
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[SUCCESS] Alarm email sent successfully to: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Timer thread ending - Final state: timer_active=False, alarm_active=True
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1030
[API] Found 0 new events since ID 1030
[DEBUG] ðŸšª Door state change detected: True -> False
[DEBUG] ðŸšª Door closed - stopping all timers and alarms
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - door closed)
[DEBUG] ðŸ”‡ Audio alarm stopped immediately (both music and sound channels)
[DEBUG] âš« WHITE LED OFF (Pin 16) - ALARM DEACTIVATED
[DEBUG] âœ… Door closed. Timer and alarm deactivated.
[DEBUG] log_event #16 [cdeb166f]: door_close - Door closed
[DEBUG] *** EVENT APPROVED FOR LOGGING [cdeb166f] ***: door_close
[DEBUG] Starting DB transaction [cdeb166f]...
[DEBUG] ðŸ”‡ Alarm deactivated - stopping continuous loop
[DEBUG] ðŸ”‡ Audio monitoring stopped
[DEBUG] âœ… DB COMMIT SUCCESS [cdeb166f]: door_close -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_close...
[DEBUG] âœ… IMAGE CAPTURED [cdeb166f]:
[DEBUG]    File: door_close_2025-10-30_02-12-23.jpg
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:24] "GET /api/events?since=1030&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:24] "GET /static/captures/door_close_2025-10-30_02-12-23.jpg?v=1761770544330 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:24] "GET /socket.io/?EIO=4&transport=polling&t=PenjDPG&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:27] "GET /api/events?since=1031&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:30] "GET /api/events?since=1031&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:31] "GET /socket.io/?EIO=4&transport=polling&t=PenjHq2&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:31] "POST /socket.io/?EIO=4&transport=polling&t=PenjJWX&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:33] "GET /api/events?since=1031&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:36] "GET /api/events?since=1031&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_open_2025-10-30_02-12-38.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_open_2025-10-30_02-12-38.jpg (40271 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:39] "GET /socket.io/?EIO=4&transport=polling&t=PenjJWZ&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:39] "GET /socket.io/?EIO=4&transport=polling&t=PenjLRp&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:39] "GET /api/events?since=1031&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:39] "GET /socket.io/?EIO=4&transport=polling&t=PenjLSH&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:39] "GET /static/captures/door_open_2025-10-30_02-12-38.jpg?v=1761770559287 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:42] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:45] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:48] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
[DEBUG]    Size: 37150 bytes
[DEBUG]    Hash: d986b49e94bd0f90...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [cdeb166f]: Block #967
[API] Polling request: Getting events since ID 1030
[API] Found 1 new events since ID 1030
[DEBUG] Broadcasting WebSocket [cdeb166f]: door_close
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1031
[DEBUG]   - Type: door_close
[DEBUG]   - Image Path: static/captures/door_close_2025-10-30_02-12-23.jpg
[DEBUG]   - Image Hash: d986b49e94bd0f90...
[DEBUG]   - Full event dict: {'id': 1031, 'event_type': 'door_close', 'description': 'Door closed', 'timestamp': '2025-10-30 02:12:23', 'image_path': 'static/captures/door_close_2025-10-30_02-12-23.jpg', 'image_hash': 'd986b49e94bd0f901db1badd062d2cd599bf7eeab98aca0a774a4a2bc3ac5ea0', 'image_timestamp': '2025-10-30 02:12:23', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_close
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 4
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: 7HZq36IdyB392kE4AAAL
  â”œâ”€ Remaining Clients: 3
  â””â”€ Disconnect Time: 2025-10-30T02:12:24.365132
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: JsqNVVlV39t-FysHAAAR
  â”œâ”€ Remaining Clients: 2
  â””â”€ Disconnect Time: 2025-10-30T02:12:24.370098
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_close' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [cdeb166f]: door_close
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1031
[API] Found 0 new events since ID 1031
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1031
[API] Found 0 new events since ID 1031
[API] Polling request: Getting events since ID 1031
[API] Found 0 new events since ID 1031
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1031
[API] Found 0 new events since ID 1031
[DEBUG] ðŸšª Door state change detected: False -> True
[DEBUG] ðŸ”§ GPIO Pin 16 set to LOW (White LED - ensure alarm off)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - ensure timer LED off before blinking)
[DEBUG] âœ… Timer setting found in DB: 25 seconds
[DEBUG] ðŸšª DOOR OPENED EVENT:
  â”œâ”€ Timer Duration: 25 seconds
  â”œâ”€ Global timer_duration: 25 seconds
  â”œâ”€ Current Time: 1761770558.8907192
  â””â”€ Will trigger alarm at: 1761770583.8907192
[DEBUG] log_event #17 [d2d78cd3]: door_open - Door opened
[DEBUG] *** EVENT APPROVED FOR LOGGING [d2d78cd3] ***: door_open
[DEBUG] Starting DB transaction [d2d78cd3]...
[DEBUG] âœ… DB COMMIT SUCCESS [d2d78cd3]: door_open -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_open...
[DEBUG] âœ… IMAGE CAPTURED [d2d78cd3]:
[DEBUG]    File: door_open_2025-10-30_02-12-38.jpg
[DEBUG]    Size: 40271 bytes
[DEBUG]    Hash: 7948f5dd9c27b174...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [d2d78cd3]: Block #968
[ANOMALY] ðŸš¨ Odd hours access detected at 2:00
[ANOMALY] ðŸš¨ Repeated opens: 4 times in 10 minutes
[API] Polling request: Getting events since ID 1031
[API] Found 1 new events since ID 1031
[DEBUG] Broadcasting WebSocket [d2d78cd3]: door_open
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1032
[DEBUG]   - Type: door_open
[DEBUG]   - Image Path: static/captures/door_open_2025-10-30_02-12-38.jpg
[DEBUG]   - Image Hash: 7948f5dd9c27b174...
[DEBUG]   - Full event dict: {'id': 1032, 'event_type': 'door_open', 'description': 'Door opened', 'timestamp': '2025-10-30 02:12:38', 'image_path': 'static/captures/door_open_2025-10-30_02-12-38.jpg', 'image_hash': '7948f5dd9c27b174bf1cf07a4a5cc03656cc7e43044180b2c4af2813c06e907c', 'image_timestamp': '2025-10-30 02:12:38', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_open
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 2
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_open' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [d2d78cd3]: door_open
[DEBUG] â° ALARM TIMER STARTED:
  â”œâ”€ Duration: 25 seconds
  â”œâ”€ Start Time: 1761770559.2718816
  â”œâ”€ Timer Active: True
  â””â”€ Door Open: True
  ðŸŽ¯ EXPECTED TRIGGER TIME: 1761770584.2718816 (25s from now)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer start)
[DEBUG] ðŸ”´ LED will blink 25 times (1 blink = 1 second)
[DEBUG] ðŸŽ¯ Timer will expire at: 1761770584.272
[DEBUG] â±ï¸  Second 1: Elapsed=0.0s, Remaining=25.0s
[DEBUG] â° New timer thread started for 25s
[DEBUG] ðŸ” Verification - Thread args: (25,)
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #1 - Elapsed: 0.5s - Remaining: 24.5s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 2: Elapsed=1.0s, Remaining=24.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #1 complete - Elapsed: 1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #2 - Elapsed: 1.5s - Remaining: 23.5s
[DEBUG] â±ï¸  Second 3: Elapsed=2.0s, Remaining=23.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #2 complete - Elapsed: 2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #3 - Elapsed: 2.5s - Remaining: 22.5s
[API] Polling request: Getting events since ID 1032
[API] Found 0 new events since ID 1032
[DEBUG] â±ï¸  Second 4: Elapsed=3.0s, Remaining=22.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #3 complete - Elapsed: 3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #4 - Elapsed: 3.5s - Remaining: 21.5s
[DEBUG] â±ï¸  Second 5: Elapsed=4.0s, Remaining=21.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #4 complete - Elapsed: 4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #5 - Elapsed: 4.5s - Remaining: 20.5s
[DEBUG] â±ï¸  Second 6: Elapsed=5.0s, Remaining=20.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #5 complete - Elapsed: 5.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #6 - Elapsed: 5.5s - Remaining: 19.5s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1032
[API] Found 0 new events since ID 1032
[DEBUG] â±ï¸  Second 7: Elapsed=6.0s, Remaining=19.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #6 complete - Elapsed: 6.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #7 - Elapsed: 6.5s - Remaining: 18.5s
[DEBUG] â±ï¸  Second 8: Elapsed=7.0s, Remaining=18.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #7 complete - Elapsed: 7.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #8 - Elapsed: 7.5s - Remaining: 17.5s
[DEBUG] â±ï¸  Second 9: Elapsed=8.0s, Remaining=17.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #8 complete - Elapsed: 8.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #9 - Elapsed: 8.5s - Remaining: 16.5s
[API] Polling request: Getting events since ID 1032
[API] Found 0 new events since ID 1032
[DEBUG] â±ï¸  Second 10: Elapsed=9.0s, Remaining=16.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #9 complete - Elapsed: 9.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #10 - Elapsed: 9.5s - Remaining: 15.5s
[DEBUG] â±ï¸  Second 11: Elapsed=10.0s, Remaining=15.0sINFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:51] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:54] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:56] "GET /socket.io/?EIO=4&transport=polling&t=PenjLS-&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:56] "POST /socket.io/?EIO=4&transport=polling&t=PenjPdj&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:12:57] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:00] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:03] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/alarm_triggered_2025-10-30_02-13-04.jpg
INFO:camera_helper:ðŸ“¸ Image captured: alarm_triggered_2025-10-30_02-13-04.jpg (40004 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:04] "GET /socket.io/?EIO=4&transport=polling&t=PenjPdn&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:04] "GET /socket.io/?EIO=4&transport=polling&t=PenjRfD&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:06] "GET /api/events/1033 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:06] "GET /static/captures/alarm_triggered_2025-10-30_02-13-04.jpg?v=1761770586185 HTTP/1.1" 200 -

[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #10 complete - Elapsed: 10.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #11 - Elapsed: 10.5s - Remaining: 14.5s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 12: Elapsed=11.0s, Remaining=14.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #11 complete - Elapsed: 11.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #12 - Elapsed: 11.5s - Remaining: 13.5s
[API] Polling request: Getting events since ID 1032
[API] Found 0 new events since ID 1032
[DEBUG] â±ï¸  Second 13: Elapsed=12.0s, Remaining=13.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #12 complete - Elapsed: 12.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #13 - Elapsed: 12.5s - Remaining: 12.5s
[DEBUG] â±ï¸  Second 14: Elapsed=13.0s, Remaining=12.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #13 complete - Elapsed: 13.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #14 - Elapsed: 13.5s - Remaining: 11.5s
[DEBUG] â±ï¸  Second 15: Elapsed=14.0s, Remaining=11.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #14 complete - Elapsed: 14.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #15 - Elapsed: 14.5s - Remaining: 10.5s
[API] Polling request: Getting events since ID 1032
[API] Found 0 new events since ID 1032
[DEBUG] â±ï¸  Second 16: Elapsed=15.0s, Remaining=10.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #15 complete - Elapsed: 15.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #16 - Elapsed: 15.5s - Remaining: 9.5s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 17: Elapsed=16.0s, Remaining=9.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #16 complete - Elapsed: 16.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #17 - Elapsed: 16.5s - Remaining: 8.5s
[DEBUG] â±ï¸  Second 18: Elapsed=17.0s, Remaining=8.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #17 complete - Elapsed: 17.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #18 - Elapsed: 17.5s - Remaining: 7.5s
[API] Polling request: Getting events since ID 1032
[API] Found 0 new events since ID 1032
[DEBUG] â±ï¸  Second 19: Elapsed=18.0s, Remaining=7.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #18 complete - Elapsed: 18.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #19 - Elapsed: 18.5s - Remaining: 6.5s
[DEBUG] â±ï¸  Second 20: Elapsed=19.0s, Remaining=6.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #19 complete - Elapsed: 19.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #20 - Elapsed: 19.5s - Remaining: 5.5s
[DEBUG] â±ï¸  Second 21: Elapsed=20.0s, Remaining=5.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #20 complete - Elapsed: 20.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #21 - Elapsed: 20.5s - Remaining: 4.5s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1032
[API] Found 0 new events since ID 1032
[DEBUG] â±ï¸  Second 22: Elapsed=21.0s, Remaining=4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #21 complete - Elapsed: 21.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #22 - Elapsed: 21.5s - Remaining: 3.5s
[DEBUG] â±ï¸  Second 23: Elapsed=22.0s, Remaining=3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #22 complete - Elapsed: 22.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #23 - Elapsed: 22.5s - Remaining: 2.5s
[DEBUG] â±ï¸  Second 24: Elapsed=23.0s, Remaining=2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #23 complete - Elapsed: 23.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #24 - Elapsed: 23.5s - Remaining: 1.5s
[API] Polling request: Getting events since ID 1032
[API] Found 0 new events since ID 1032
[DEBUG] â±ï¸  Second 25: Elapsed=24.0s, Remaining=1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #24 complete - Elapsed: 24.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #25 - Elapsed: 24.5s - Remaining: 0.5s
[DEBUG] ðŸ TIMER LOOP ENDED:
  â”œâ”€ Start Time: 1761770559.272
  â”œâ”€ End Time: 1761770584.313
  â”œâ”€ Elapsed Time: 25.041 seconds
  â”œâ”€ Expected Duration: 25 seconds
  â”œâ”€ Timer Active: True
  â”œâ”€ Door Open: True
  â””â”€ Should Trigger: True
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer cleanup)
[DEBUG] ðŸ”´ Red LED turned OFF
[DEBUG] âš ï¸ ALARM TRIGGERED:
  â”œâ”€ Duration Set: 25 seconds
  â”œâ”€ Actual Elapsed: 25.04 seconds
  â”œâ”€ Door Still Open: True
  â””â”€ Timer Was Active: False
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - before alarm activation)
[DEBUG] ðŸ”´ WHITE LED ON (Pin 16) - ALARM ACTIVE
[DEBUG] ðŸ” WHITE LED VERIFICATION: Pin 16 actual state = 1 (should be 1)
[DEBUG] ðŸŽµ AUDIO LINKED TO WHITE LED - Starting alarm sound...
[DEBUG] ðŸ”„ Preloaded audio now playing in continuous loop
[DEBUG] log_event #18 [8e2e9333]: alarm_triggered - Alarm triggered after 25 seconds
[DEBUG] *** EVENT APPROVED FOR LOGGING [8e2e9333] ***: alarm_triggered
[DEBUG] Starting DB transaction [8e2e9333]...
[DEBUG] âœ… DB COMMIT SUCCESS [8e2e9333]: alarm_triggered -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for alarm_triggered...
[DEBUG] âœ… IMAGE CAPTURED [8e2e9333]:
[DEBUG]    File: alarm_triggered_2025-10-30_02-13-04.jpg
[DEBUG]    Size: 40004 bytes
[DEBUG]    Hash: 14db7b9c3de68a2a...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [8e2e9333]: Block #969
[DEBUG] Broadcasting WebSocket [8e2e9333]: alarm_triggered
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1033
[DEBUG]   - Type: alarm_triggered
[DEBUG]   - Image Path: static/captures/alarm_triggered_2025-10-30_02-13-04.jpg
[DEBUG]   - Image Hash: 14db7b9c3de68a2a...
[DEBUG]   - Full event dict: {'id': 1033, 'event_type': 'alarm_triggered', 'description': 'Alarm triggered after 25 seconds', 'timestamp': '2025-10-30 02:13:04', 'image_path': 'static/captures/alarm_triggered_2025-10-30_02-13-04.jpg', 'image_hash': '14db7b9c3de68a2afa2029e8f3f05efb82d7682adac23ce936b57536f54ead50', 'image_timestamp': '2025-10-30 02:13:04', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: alarm_triggered
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 2
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'alarm_triggered' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [8e2e9333]: alarm_triggered
[ANOMALY] ðŸš¨ Prolonged open detected: 25s
[DEBUG] Attempting to send alarm email for duration: 25s
[DEBUG] Email config found - Sender: bsmscitech@gmail.com
[DEBUG] Recipients: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Connecting to Gmail SMTP...
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] Attempting login...
[API] Polling request: Getting events since ID 1032INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:06] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:09] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_close_2025-10-30_02-13-11.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_close_2025-10-30_02-13-11.jpg (37745 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:11] "GET /socket.io/?EIO=4&transport=polling&t=PenjRfd&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:12] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:12] "GET /api/events/1034 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:13] "GET /static/captures/door_close_2025-10-30_02-13-11.jpg?v=1761770593009 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:15] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:18] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:21] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:21] "GET /socket.io/?EIO=4&transport=polling&t=PenjTJu&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:21] "POST /socket.io/?EIO=4&transport=polling&t=PenjVkv&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:24] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:27] "GET /api/events?since=1032&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "GET /event-log HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "GET /static/captures/door_close_2025-10-30_02-13-11.jpg?v=1034 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "GET /static/captures/alarm_triggered_2025-10-30_02-13-04.jpg?v=1033 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/css/colors.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/css/modern.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "GET /static/captures/door_open_2025-10-30_02-12-38.jpg?v=1032 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "GET /static/captures/door_close_2025-10-30_02-12-23.jpg?v=1031 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "GET /static/captures/alarm_triggered_2025-10-30_02-11-48.jpg?v=1030 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "GET /static/captures/door_open_2025-10-30_02-11-22.jpg?v=1029 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/captures/alarm_triggered_2025-10-30_02-10-34.jpg?v=1026 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/captures/door_close_2025-10-30_02-10-41.jpg?v=1027 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/js/socket.js HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/captures/door_open_2025-10-30_02-10-28.jpg?v=1025 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/captures/door_close_2025-10-30_02-10-11.jpg?v=1024 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/captures/alarm_triggered_2025-10-30_02-10-02.jpg?v=1023 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/captures/door_close_2025-10-30_02-01-49.jpg?v=1021 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/captures/alarm_triggered_2025-10-30_02-01-45.jpg?v=1020 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/captures/door_open_2025-10-30_02-09-57.jpg?v=1022 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "[36mGET /static/captures/door_open_2025-10-30_02-01-39.jpg?v=1019 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:28] "GET /socket.io/?EIO=4&transport=polling&t=PenjXaV HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "GET /socket.io/?EIO=4&transport=polling&t=PenjXaz HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "GET /api/events?per_page=1 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-58-46.jpg?v=1018 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-58-42.jpg?v=1017 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-58-36.jpg?v=1016 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-53-12.jpg?v=1015 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-53-01.jpg?v=1013 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-53-06.jpg?v=1014 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-48-16.jpg?v=1012 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-48-10.jpg?v=1011 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-48-04.jpg?v=1010 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-47-48.jpg?v=1008 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-47-52.jpg?v=1009 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-47-43.jpg?v=1007 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-47-27.jpg?v=1004 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-47-36.jpg?v=1006 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-47-16.jpg?v=1002 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-47-32.jpg?v=1005 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-46-46.jpg?v=1001 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-47-21.jpg?v=1003 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-46-29.jpg?v=999 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-46-41.jpg?v=1000 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-46-24.jpg?v=998 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-41-56.jpg?v=997 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-41-54.jpg?v=996 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-41-48.jpg?v=995 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-32-03.jpg?v=994 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-32-00.jpg?v=993 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-31-54.jpg?v=992 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-27-09.jpg?v=991 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-26-59.jpg?v=990 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-24-02.jpg?v=987 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-24-04.jpg?v=988 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-23-56.jpg?v=986 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_open_2025-10-30_01-26-53.jpg?v=989 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:29] "[36mGET /static/captures/door_close_2025-10-30_01-23-49.jpg?v=985 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "GET /socket.io/?EIO=4&transport=polling&t=PenjXyk&sid=ryxowl3q_JHJYZtFAAAZ HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "POST /socket.io/?EIO=4&transport=polling&t=PenjXyi&sid=ryxowl3q_JHJYZtFAAAZ HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "GET /socket.io/?EIO=4&transport=polling&t=PenjXyx HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "GET /socket.io/?EIO=4&transport=polling&t=PenjY0d&sid=ryxowl3q_JHJYZtFAAAZ HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "POST /socket.io/?EIO=4&transport=polling&t=PenjY0i&sid=ryxowl3q_JHJYZtFAAAZ HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "POST /socket.io/?EIO=4&transport=polling&t=PenjY0o&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "GET /socket.io/?EIO=4&transport=polling&t=PenjY0r&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "POST /socket.io/?EIO=4&transport=polling&t=PenjY2L&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "GET /socket.io/?EIO=4&transport=polling&t=PenjY2J&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "POST /socket.io/?EIO=4&transport=polling&t=PenjY3A&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:30] "GET /socket.io/?EIO=4&transport=polling&t=PenjY3H&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:32] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:34] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:37] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:40] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:43] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:46] "GET /socket.io/?EIO=4&transport=polling&t=PenjVky&sid=5T_zHHmsMZvMuSSVAAAW HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:47] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_open_2025-10-30_02-13-47.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_open_2025-10-30_02-13-47.jpg (42112 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:48] "GET /socket.io/?EIO=4&transport=polling&t=PenjY3q&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -

[API] Found 1 new events since ID 1032
[DEBUG] Sending email to 4 recipients...
[API] Polling request: Getting events since ID 1032
[API] Found 1 new events since ID 1032
[SUCCESS] Alarm email sent successfully to: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Timer thread ending - Final state: timer_active=False, alarm_active=True
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸšª Door state change detected: True -> False
[DEBUG] ðŸšª Door closed - stopping all timers and alarms
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - door closed)
[DEBUG] ðŸ”‡ Audio alarm stopped immediately (both music and sound channels)
[DEBUG] âš« WHITE LED OFF (Pin 16) - ALARM DEACTIVATED
[DEBUG] âœ… Door closed. Timer and alarm deactivated.
[DEBUG] log_event #19 [ef94ff2d]: door_close - Door closed
[DEBUG] *** EVENT APPROVED FOR LOGGING [ef94ff2d] ***: door_close
[DEBUG] Starting DB transaction [ef94ff2d]...
[DEBUG] âœ… DB COMMIT SUCCESS [ef94ff2d]: door_close -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_close...
[DEBUG] ðŸ”‡ Alarm deactivated - stopping continuous loop
[DEBUG] ðŸ”‡ Audio monitoring stopped
[DEBUG] âœ… IMAGE CAPTURED [ef94ff2d]:
[DEBUG]    File: door_close_2025-10-30_02-13-11.jpg
[DEBUG]    Size: 37745 bytes
[DEBUG]    Hash: 45ef19ba30e52118...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [ef94ff2d]: Block #970
[DEBUG] Broadcasting WebSocket [ef94ff2d]: door_close
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1034
[DEBUG]   - Type: door_close
[DEBUG]   - Image Path: static/captures/door_close_2025-10-30_02-13-11.jpg
[DEBUG]   - Image Hash: 45ef19ba30e52118...
[DEBUG]   - Full event dict: {'id': 1034, 'event_type': 'door_close', 'description': 'Door closed', 'timestamp': '2025-10-30 02:13:11', 'image_path': 'static/captures/door_close_2025-10-30_02-13-11.jpg', 'image_hash': '45ef19ba30e52118f64c8e4c490a24840edf8315a6fecab6af89aed721154c51', 'image_timestamp': '2025-10-30 02:13:11', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_close
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 2
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_close' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [ef94ff2d]: door_close
[API] Polling request: Getting events since ID 1032
[API] Found 2 new events since ID 1032
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1032
[API] Found 2 new events since ID 1032
[API] Polling request: Getting events since ID 1032
[API] Found 2 new events since ID 1032
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1032
[API] Found 2 new events since ID 1032
[API] Polling request: Getting events since ID 1032
[API] Found 2 new events since ID 1032
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1032
[API] Found 2 new events since ID 1032
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: c276wzc6ipJVo0xWAAAa
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: c276wzc6ipJVo0xWAAAa
  â”œâ”€ Total Connected Clients: 3
  â””â”€ Connection Time: 2025-10-30T02:13:30.584050
[WEBSOCKET] ðŸ“ Sending initial ping to c276wzc6ipJVo0xWAAAa
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: c276wzc6ipJVo0xWAAAa
  â”œâ”€ Remaining Clients: 2
  â””â”€ Disconnect Time: 2025-10-30T02:13:30.802255
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: fAowueHHy7tN5chRAAAc
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: fAowueHHy7tN5chRAAAc
  â”œâ”€ Total Connected Clients: 3
  â””â”€ Connection Time: 2025-10-30T02:13:30.808117
[WEBSOCKET] ðŸ“ Sending initial ping to fAowueHHy7tN5chRAAAc
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: fAowueHHy7tN5chRAAAc
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:43:30.836Z', 'page': '/event-log', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: fAowueHHy7tN5chRAAAc
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:43:30.845Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[API] Polling request: Getting events since ID 1034
[API] Found 0 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 0 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 0 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 0 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 0 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 0 new events since ID 1034
[DEBUG] ðŸšª Door state change detected: False -> True
[DEBUG] ðŸ”§ GPIO Pin 16 set to LOW (White LED - ensure alarm off)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - ensure timer LED off before blinking)
[DEBUG] âœ… Timer setting found in DB: 25 seconds
[DEBUG] ðŸšª DOOR OPENED EVENT:
  â”œâ”€ Timer Duration: 25 seconds
  â”œâ”€ Global timer_duration: 25 seconds
  â”œâ”€ Current Time: 1761770627.7623663
  â””â”€ Will trigger alarm at: 1761770652.7623663
[DEBUG] log_event #20 [5fe268cc]: door_open - Door opened
[DEBUG] *** EVENT APPROVED FOR LOGGING [5fe268cc] ***: door_open
[DEBUG] Starting DB transaction [5fe268cc]...
[DEBUG] âœ… DB COMMIT SUCCESS [5fe268cc]: door_open -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_open...
[DEBUG] âœ… IMAGE CAPTURED [5fe268cc]:
[DEBUG]    File: door_open_2025-10-30_02-13-47.jpg
[DEBUG]    Size: 42112 bytes
[DEBUG]    Hash: a4918980659c73a6...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [5fe268cc]: Block #971
[ANOMALY] ðŸš¨ Odd hours access detected at 2:00
[ANOMALY] ðŸš¨ Repeated opens: 5 times in 10 minutes
[DEBUG] Broadcasting WebSocket [5fe268cc]: door_open
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1035
[DEBUG]   - Type: door_open
[DEBUG]   - Image Path: static/captures/door_open_2025-10-30_02-13-47.jpg
[DEBUG]   - Image Hash: a4918980659c73a6...
[DEBUG]   - Full event dict: {'id': 1035, 'event_type': 'door_open', 'description': 'Door opened', 'timestamp': '2025-10-30 02:13:47', 'image_path': 'static/captures/door_open_2025-10-30_02-13-47.jpg', 'image_hash': 'a4918980659c73a69cf1864c4ab0468bddabc7fa80ca77008892234d0f830ca6', 'image_timestamp': '2025-10-30 02:13:47', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_open
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_open' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [5fe268cc]: door_open
[DEBUG] â° ALARM TIMER STARTED:
  â”œâ”€ Duration: 25 seconds
  â”œâ”€ Start Time: 1761770628.209901
  â”œâ”€ Timer Active: True
  â””â”€ Door Open: True
  ðŸŽ¯ EXPECTED TRIGGER TIME: 1761770653.209901 (25s from now)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer start)
[DEBUG] ðŸ”´ LED will blink 25 times (1 blink = 1 second)
[DEBUG] ðŸŽ¯ Timer will expire at: 1761770653.210
[DEBUG] â±ï¸  Second 1: Elapsed=0.0s, Remaining=25.0sINFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:48] "GET /socket.io/?EIO=4&transport=polling&t=PenjcIb&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:49] "GET /api/events/1035 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:49] "GET /static/captures/door_open_2025-10-30_02-13-47.jpg?v=1761770629898 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:49] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:52] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:55] "GET /socket.io/?EIO=4&transport=polling&t=PenjcJj&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:55] "POST /socket.io/?EIO=4&transport=polling&t=Penje5m&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:55] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:13:58] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:01] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:04] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:07] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:10] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
[DEBUG] â° New timer thread started for 25s
[DEBUG] ðŸ” Verification - Thread args: (25,)

[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #1 - Elapsed: 0.5s - Remaining: 24.5s
[DEBUG] â±ï¸  Second 2: Elapsed=1.0s, Remaining=24.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #1 complete - Elapsed: 1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #2 - Elapsed: 1.5s - Remaining: 23.5s
[API] Polling request: Getting events since ID 1034
[API] Found 1 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 3: Elapsed=2.0s, Remaining=23.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #2 complete - Elapsed: 2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #3 - Elapsed: 2.5s - Remaining: 22.5s
[DEBUG] â±ï¸  Second 4: Elapsed=3.0s, Remaining=22.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #3 complete - Elapsed: 3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #4 - Elapsed: 3.5s - Remaining: 21.5s
[DEBUG] â±ï¸  Second 5: Elapsed=4.0s, Remaining=21.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #4 complete - Elapsed: 4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #5 - Elapsed: 4.5s - Remaining: 20.5s
[API] Polling request: Getting events since ID 1034
[API] Found 1 new events since ID 1034
[DEBUG] â±ï¸  Second 6: Elapsed=5.0s, Remaining=20.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #5 complete - Elapsed: 5.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #6 - Elapsed: 5.5s - Remaining: 19.5s
[DEBUG] â±ï¸  Second 7: Elapsed=6.0s, Remaining=19.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #6 complete - Elapsed: 6.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #7 - Elapsed: 6.5s - Remaining: 18.5s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 8: Elapsed=7.0s, Remaining=18.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #7 complete - Elapsed: 7.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #8 - Elapsed: 7.5s - Remaining: 17.5s
[API] Polling request: Getting events since ID 1034
[API] Found 1 new events since ID 1034
[DEBUG] â±ï¸  Second 9: Elapsed=8.0s, Remaining=17.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #8 complete - Elapsed: 8.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #9 - Elapsed: 8.5s - Remaining: 16.5s
[DEBUG] â±ï¸  Second 10: Elapsed=9.0s, Remaining=16.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #9 complete - Elapsed: 9.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #10 - Elapsed: 9.5s - Remaining: 15.5s
[DEBUG] â±ï¸  Second 11: Elapsed=10.0s, Remaining=15.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #10 complete - Elapsed: 10.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #11 - Elapsed: 10.6s - Remaining: 14.4s
[API] Polling request: Getting events since ID 1034
[API] Found 1 new events since ID 1034
[DEBUG] â±ï¸  Second 12: Elapsed=11.1s, Remaining=13.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #11 complete - Elapsed: 11.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #12 - Elapsed: 11.6s - Remaining: 13.4s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 13: Elapsed=12.1s, Remaining=12.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #12 complete - Elapsed: 12.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #13 - Elapsed: 12.6s - Remaining: 12.4s
[DEBUG] â±ï¸  Second 14: Elapsed=13.1s, Remaining=11.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #13 complete - Elapsed: 13.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #14 - Elapsed: 13.6s - Remaining: 11.4s
[API] Polling request: Getting events since ID 1034
[API] Found 1 new events since ID 1034
[DEBUG] â±ï¸  Second 15: Elapsed=14.1s, Remaining=10.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #14 complete - Elapsed: 14.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #15 - Elapsed: 14.6s - Remaining: 10.4s
[DEBUG] â±ï¸  Second 16: Elapsed=15.1s, Remaining=9.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #15 complete - Elapsed: 15.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #16 - Elapsed: 15.6s - Remaining: 9.4s
[DEBUG] â±ï¸  Second 17: Elapsed=16.1s, Remaining=8.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #16 complete - Elapsed: 16.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #17 - Elapsed: 16.6s - Remaining: 8.4s
[API] Polling request: Getting events since ID 1034
[API] Found 1 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 18: Elapsed=17.1s, Remaining=7.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #17 complete - Elapsed: 17.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #18 - Elapsed: 17.6s - Remaining: 7.4s
[DEBUG] â±ï¸  Second 19: Elapsed=18.1s, Remaining=6.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #18 complete - Elapsed: 18.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #19 - Elapsed: 18.6s - Remaining: 6.4s
[DEBUG] â±ï¸  Second 20: Elapsed=19.1s, Remaining=5.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #19 complete - Elapsed: 19.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #20 - Elapsed: 19.6s - Remaining: 5.4s
[API] Polling request: Getting events since ID 1034
[API] Found 1 new events since ID 1034
[DEBUG] â±ï¸  Second 21: Elapsed=20.0s, Remaining=5.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #20 complete - Elapsed: 20.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #21 - Elapsed: 20.6s - Remaining: 4.4s
[DEBUG] â±ï¸  Second 22: Elapsed=21.0s, Remaining=4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #21 complete - Elapsed: 21.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #22 - Elapsed: 21.6s - Remaining: 3.4s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] â±ï¸  Second 23: Elapsed=22.0s, Remaining=3.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #22 complete - Elapsed: 22.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #23 - Elapsed: 22.6s - Remaining: 2.4s
[API] Polling request: Getting events since ID 1034
[API] Found 1 new events since ID 1034
[DEBUG] â±ï¸  Second 24: Elapsed=23.0s, Remaining=2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/alarm_triggered_2025-10-30_02-14-13.jpg
INFO:camera_helper:ðŸ“¸ Image captured: alarm_triggered_2025-10-30_02-14-13.jpg (40148 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:13] "GET /socket.io/?EIO=4&transport=polling&t=Penje5r&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:13] "GET /socket.io/?EIO=4&transport=polling&t=PenjiVI&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:14] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:15] "GET /api/events/1036 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:15] "GET /static/captures/alarm_triggered_2025-10-30_02-14-13.jpg?v=1761770655199 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:16] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:20] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:20] "GET /socket.io/?EIO=4&transport=polling&t=PenjiaM&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:20] "POST /socket.io/?EIO=4&transport=polling&t=PenjkF3&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:22] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:26] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:28] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:31] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:34] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:37] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_close_2025-10-30_02-14-39.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_close_2025-10-30_02-14-39.jpg (42653 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:39] "GET /socket.io/?EIO=4&transport=polling&t=PenjkF5&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:40] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:41] "GET /api/events/1037 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:41] "GET /static/captures/door_close_2025-10-30_02-14-39.jpg?v=1761770681149 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:44] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:45] "GET /socket.io/?EIO=4&transport=polling&t=Penjoqc&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:45] "POST /socket.io/?EIO=4&transport=polling&t=PenjqMH&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:47] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:49] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:52] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:55] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:14:58] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:01] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:04] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:07] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:10] "GET /socket.io/?EIO=4&transport=polling&t=PenjqML&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:10] "POST /socket.io/?EIO=4&transport=polling&t=PenjwTJ&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -

[DEBUG] âš« RED LED OFF - Blink #23 complete - Elapsed: 23.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #24 - Elapsed: 23.6s - Remaining: 1.4s
[DEBUG] â±ï¸  Second 25: Elapsed=24.0s, Remaining=1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #24 complete - Elapsed: 24.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #25 - Elapsed: 24.6s - Remaining: 0.4s
[DEBUG] ðŸ TIMER LOOP ENDED:
  â”œâ”€ Start Time: 1761770628.210
  â”œâ”€ End Time: 1761770653.233
  â”œâ”€ Elapsed Time: 25.023 seconds
  â”œâ”€ Expected Duration: 25 seconds
  â”œâ”€ Timer Active: True
  â”œâ”€ Door Open: True
  â””â”€ Should Trigger: True
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer cleanup)
[DEBUG] ðŸ”´ Red LED turned OFF
[DEBUG] âš ï¸ ALARM TRIGGERED:
  â”œâ”€ Duration Set: 25 seconds
  â”œâ”€ Actual Elapsed: 25.02 seconds
  â”œâ”€ Door Still Open: True
  â””â”€ Timer Was Active: False
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - before alarm activation)
[DEBUG] ðŸ”´ WHITE LED ON (Pin 16) - ALARM ACTIVE
[DEBUG] ðŸ” WHITE LED VERIFICATION: Pin 16 actual state = 1 (should be 1)
[DEBUG] ðŸŽµ AUDIO LINKED TO WHITE LED - Starting alarm sound...
[DEBUG] ðŸ”„ Preloaded audio now playing in continuous loop
[DEBUG] log_event #21 [532f0995]: alarm_triggered - Alarm triggered after 25 seconds
[DEBUG] *** EVENT APPROVED FOR LOGGING [532f0995] ***: alarm_triggered
[DEBUG] Starting DB transaction [532f0995]...
[DEBUG] âœ… DB COMMIT SUCCESS [532f0995]: alarm_triggered -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for alarm_triggered...
[DEBUG] âœ… IMAGE CAPTURED [532f0995]:
[DEBUG]    File: alarm_triggered_2025-10-30_02-14-13.jpg
[DEBUG]    Size: 40148 bytes
[DEBUG]    Hash: 4a491efd39eed478...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [532f0995]: Block #972
[DEBUG] Broadcasting WebSocket [532f0995]: alarm_triggered
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1036
[DEBUG]   - Type: alarm_triggered
[DEBUG]   - Image Path: static/captures/alarm_triggered_2025-10-30_02-14-13.jpg
[DEBUG]   - Image Hash: 4a491efd39eed478...
[DEBUG]   - Full event dict: {'id': 1036, 'event_type': 'alarm_triggered', 'description': 'Alarm triggered after 25 seconds', 'timestamp': '2025-10-30 02:14:13', 'image_path': 'static/captures/alarm_triggered_2025-10-30_02-14-13.jpg', 'image_hash': '4a491efd39eed478ac0e886db8cc76aca78151ab41af4da398ef00266f77c629', 'image_timestamp': '2025-10-30 02:14:13', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: alarm_triggered
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'alarm_triggered' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [532f0995]: alarm_triggered
[ANOMALY] ðŸš¨ Prolonged open detected: 25s
[DEBUG] Attempting to send alarm email for duration: 25s
[DEBUG] Email config found - Sender: bsmscitech@gmail.com
[DEBUG] Recipients: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Connecting to Gmail SMTP...
[API] Polling request: Getting events since ID 1034
[API] Found 2 new events since ID 1034
[DEBUG] Attempting login...
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] Sending email to 4 recipients...
[API] Polling request: Getting events since ID 1034
[API] Found 2 new events since ID 1034
[SUCCESS] Alarm email sent successfully to: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Timer thread ending - Final state: timer_active=False, alarm_active=True
[API] Polling request: Getting events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Found 2 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 2 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1034
[API] Found 2 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 2 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1034
[API] Found 2 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 2 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1034
[API] Found 2 new events since ID 1034
[DEBUG] ðŸšª Door state change detected: True -> False
[DEBUG] ðŸšª Door closed - stopping all timers and alarms
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - door closed)
[DEBUG] ðŸ”‡ Audio alarm stopped immediately (both music and sound channels)
[DEBUG] âš« WHITE LED OFF (Pin 16) - ALARM DEACTIVATED
[DEBUG] âœ… Door closed. Timer and alarm deactivated.
[DEBUG] log_event #22 [2184eeb5]: door_close - Door closed
[DEBUG] *** EVENT APPROVED FOR LOGGING [2184eeb5] ***: door_close
[DEBUG] Starting DB transaction [2184eeb5]...
[DEBUG] âœ… DB COMMIT SUCCESS [2184eeb5]: door_close -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_close...
[DEBUG] ðŸ”‡ Alarm deactivated - stopping continuous loop
[DEBUG] ðŸ”‡ Audio monitoring stopped
[DEBUG] âœ… IMAGE CAPTURED [2184eeb5]:
[DEBUG]    File: door_close_2025-10-30_02-14-39.jpg
[DEBUG]    Size: 42653 bytes
[DEBUG]    Hash: 72e3ff7e25c19b97...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [2184eeb5]: Block #973
[DEBUG] Broadcasting WebSocket [2184eeb5]: door_close
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1037
[DEBUG]   - Type: door_close
[DEBUG]   - Image Path: static/captures/door_close_2025-10-30_02-14-39.jpg
[DEBUG]   - Image Hash: 72e3ff7e25c19b97...
[DEBUG]   - Full event dict: {'id': 1037, 'event_type': 'door_close', 'description': 'Door closed', 'timestamp': '2025-10-30 02:14:39', 'image_path': 'static/captures/door_close_2025-10-30_02-14-39.jpg', 'image_hash': '72e3ff7e25c19b972f15fb5fef42e8636ed5555e3bb4f7ae22ae18defdb48bf3', 'image_timestamp': '2025-10-30 02:14:39', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_close
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_close' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [2184eeb5]: door_close
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:10] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:13] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:16] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:19] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:22] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:25] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:28] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:31] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:35] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:35] "GET /socket.io/?EIO=4&transport=polling&t=PenjwTM&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:36] "POST /socket.io/?EIO=4&transport=polling&t=Penk0bI&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:37] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:40] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:43] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:46] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:49] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:52] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:55] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:15:59] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:01] "GET /socket.io/?EIO=4&transport=polling&t=Penk0be&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:01] "POST /socket.io/?EIO=4&transport=polling&t=Penk6jy&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:01] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:04] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:07] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:10] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:13] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:16] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:19] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:23] "GET /api/events?since=1034&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:23] "GET /event-log HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:24] "GET /static/captures/alarm_triggered_2025-10-30_02-14-13.jpg?v=1036 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:24] "GET /static/captures/door_close_2025-10-30_02-14-39.jpg?v=1037 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:24] "[36mGET /static/css/colors.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:24] "[36mGET /static/css/modern.css?v=2.2 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:24] "GET /static/captures/door_open_2025-10-30_02-13-47.jpg?v=1035 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_close_2025-10-30_02-13-11.jpg?v=1034 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/alarm_triggered_2025-10-30_02-13-04.jpg?v=1033 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "GET /static/js/socket.js HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_open_2025-10-30_02-12-38.jpg?v=1032 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_close_2025-10-30_02-12-23.jpg?v=1031 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/alarm_triggered_2025-10-30_02-11-48.jpg?v=1030 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_open_2025-10-30_02-11-22.jpg?v=1029 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_close_2025-10-30_02-10-41.jpg?v=1027 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/alarm_triggered_2025-10-30_02-10-34.jpg?v=1026 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_open_2025-10-30_02-10-28.jpg?v=1025 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_close_2025-10-30_02-10-11.jpg?v=1024 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/alarm_triggered_2025-10-30_02-10-02.jpg?v=1023 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_open_2025-10-30_02-09-57.jpg?v=1022 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_close_2025-10-30_02-01-49.jpg?v=1021 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/alarm_triggered_2025-10-30_02-01-45.jpg?v=1020 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_open_2025-10-30_02-01-39.jpg?v=1019 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_close_2025-10-30_01-58-46.jpg?v=1018 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_close_2025-10-30_01-53-12.jpg?v=1015 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-58-42.jpg?v=1017 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_open_2025-10-30_01-58-36.jpg?v=1016 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-53-06.jpg?v=1014 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_close_2025-10-30_01-48-16.jpg?v=1012 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:25] "[36mGET /static/captures/door_open_2025-10-30_01-53-01.jpg?v=1013 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-48-10.jpg?v=1011 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_open_2025-10-30_01-48-04.jpg?v=1010 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-47-48.jpg?v=1008 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_close_2025-10-30_01-47-52.jpg?v=1009 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_open_2025-10-30_01-47-43.jpg?v=1007 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_close_2025-10-30_01-47-36.jpg?v=1006 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "GET /socket.io/?EIO=4&transport=polling&t=Penk6k1&sid=POVz0IsTTZq0LHghAAAb HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-47-32.jpg?v=1005 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_open_2025-10-30_01-47-27.jpg?v=1004 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_close_2025-10-30_01-47-21.jpg?v=1003 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_open_2025-10-30_01-47-16.jpg?v=1002 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_open_2025-10-30_01-46-41.jpg?v=1000 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_close_2025-10-30_01-46-29.jpg?v=999 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_close_2025-10-30_01-46-46.jpg?v=1001 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_open_2025-10-30_01-46-24.jpg?v=998 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_close_2025-10-30_01-41-56.jpg?v=997 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-41-54.jpg?v=996 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_open_2025-10-30_01-41-48.jpg?v=995 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_close_2025-10-30_01-32-03.jpg?v=994 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-32-00.jpg?v=993 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_open_2025-10-30_01-31-54.jpg?v=992 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_close_2025-10-30_01-27-09.jpg?v=991 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/alarm_triggered_2025-10-30_01-26-59.jpg?v=990 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_open_2025-10-30_01-26-53.jpg?v=989 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:26] "[36mGET /static/captures/door_close_2025-10-30_01-24-04.jpg?v=988 HTTP/1.1[0m" 304 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:27] "GET /socket.io/?EIO=4&transport=polling&t=PenkD2y HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:27] "GET /api/events?per_page=1 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:27] "GET /socket.io/?EIO=4&transport=polling&t=PenkD3g HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:27] "POST /socket.io/?EIO=4&transport=polling&t=PenkD7h&sid=dPRNVO2tqG0OPh1qAAAe HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:27] "GET /socket.io/?EIO=4&transport=polling&t=PenkD7k&sid=dPRNVO2tqG0OPh1qAAAe HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:27] "POST /socket.io/?EIO=4&transport=polling&t=PenkD9n&sid=dPRNVO2tqG0OPh1qAAAe HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:27] "GET /socket.io/?EIO=4&transport=polling&t=PenkD9Y&sid=dPRNVO2tqG0OPh1qAAAe HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:27] "POST /socket.io/?EIO=4&transport=polling&t=PenkDAE&sid=dPRNVO2tqG0OPh1qAAAe HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:27] "GET /socket.io/?EIO=4&transport=polling&t=PenkDAJ&sid=dPRNVO2tqG0OPh1qAAAe HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:28] "POST /socket.io/?EIO=4&transport=polling&t=PenkDIS&sid=dPRNVO2tqG0OPh1qAAAe HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:28] "GET /socket.io/?EIO=4&transport=polling&t=PenkDIX HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:28] "POST /socket.io/?EIO=4&transport=polling&t=PenkDJF&sid=dPRNVO2tqG0OPh1qAAAe HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:28] "GET /socket.io/?EIO=4&transport=polling&t=PenkDAt&sid=dPRNVO2tqG0OPh1qAAAe HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:28] "POST /socket.io/?EIO=4&transport=polling&t=PenkDJK&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:28] "GET /socket.io/?EIO=4&transport=polling&t=PenkDJM&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:28] "POST /socket.io/?EIO=4&transport=polling&t=PenkDK1&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:28] "GET /socket.io/?EIO=4&transport=polling&t=PenkDJz&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:28] "POST /socket.io/?EIO=4&transport=polling&t=PenkDKV&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:28] "GET /socket.io/?EIO=4&transport=polling&t=PenkDKe&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:30] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:33] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:37] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:39] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_open_2025-10-30_02-16-41.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_open_2025-10-30_02-16-41.jpg (38889 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:41] "GET /socket.io/?EIO=4&transport=polling&t=PenkDLE&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:41] "GET /socket.io/?EIO=4&transport=polling&t=PenkGcu&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -

[API] Found 3 new events since ID 1034
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: A_qEvk4cuSUh5KdCAAAX
  â”œâ”€ Remaining Clients: 2
  â””â”€ Disconnect Time: 2025-10-30T02:15:12.355942
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1034
[API] Found 3 new events since ID 1034
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: erVhYz89pZuC0Zs3AAAf
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: erVhYz89pZuC0Zs3AAAf
  â”œâ”€ Total Connected Clients: 3
  â””â”€ Connection Time: 2025-10-30T02:16:27.369996
[WEBSOCKET] ðŸ“ Sending initial ping to erVhYz89pZuC0Zs3AAAf
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: erVhYz89pZuC0Zs3AAAf
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:46:27.435Z', 'page': '/event-log', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: erVhYz89pZuC0Zs3AAAf
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:46:27.447Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[WEBSOCKET] ðŸ”Œ CLIENT DISCONNECTING:
  â”œâ”€ Session ID: erVhYz89pZuC0Zs3AAAf
  â”œâ”€ Remaining Clients: 2
  â””â”€ Disconnect Time: 2025-10-30T02:16:28.030129
[WEBSOCKET] ðŸ”Œ CLIENT CONNECTING:
  â”œâ”€ Session ID: Jalp8joUnDNeCcubAAAh
  â”œâ”€ Remote IP: 192.168.31.227
  â”œâ”€ User Agent: Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK...
  â”œâ”€ Origin: Unknown
  â””â”€ Namespace: /events
[WEBSOCKET] âœ… CONNECTION SUCCESSFUL:
  â”œâ”€ Handshake Complete: YES
  â”œâ”€ Session Established: Jalp8joUnDNeCcubAAAh
  â”œâ”€ Total Connected Clients: 3
  â””â”€ Connection Time: 2025-10-30T02:16:28.064525
[WEBSOCKET] ðŸ“ Sending initial ping to Jalp8joUnDNeCcubAAAh
[WEBSOCKET] ðŸ“± CLIENT READY SIGNAL:
  â”œâ”€ From Client: Jalp8joUnDNeCcubAAAh
  â”œâ”€ Client Data: {'timestamp': '2025-10-29T20:46:28.096Z', 'page': '/event-log', 'userAgent': 'Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebK'}
  â””â”€ Acknowledging client ready state
[WEBSOCKET] ðŸ“ PING RECEIVED:
  â”œâ”€ From Client: Jalp8joUnDNeCcubAAAh
  â”œâ”€ Data: {'timestamp': '2025-10-29T20:46:28.098Z', 'message': 'Connection test from client'}
  â””â”€ Sending Pong Response...
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1037
[API] Found 0 new events since ID 1037
[API] Polling request: Getting events since ID 1037
[API] Found 0 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1037
[API] Found 0 new events since ID 1037
[API] Polling request: Getting events since ID 1037
[API] Found 0 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[DEBUG] ðŸšª Door state change detected: False -> True
[DEBUG] ðŸ”§ GPIO Pin 16 set to LOW (White LED - ensure alarm off)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - ensure timer LED off before blinking)
[DEBUG] âœ… Timer setting found in DB: 25 seconds
[DEBUG] ðŸšª DOOR OPENED EVENT:
  â”œâ”€ Timer Duration: 25 seconds
  â”œâ”€ Global timer_duration: 25 seconds
  â”œâ”€ Current Time: 1761770801.1671383
  â””â”€ Will trigger alarm at: 1761770826.1671383
[DEBUG] log_event #23 [af889956]: door_open - Door opened
[DEBUG] *** EVENT APPROVED FOR LOGGING [af889956] ***: door_open
[DEBUG] Starting DB transaction [af889956]...
[DEBUG] âœ… DB COMMIT SUCCESS [af889956]: door_open -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_open...
[DEBUG] âœ… IMAGE CAPTURED [af889956]:
[DEBUG]    File: door_open_2025-10-30_02-16-41.jpg
[DEBUG]    Size: 38889 bytes
[DEBUG]    Hash: 8aa3a728ba4ef98f...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [af889956]: Block #974
[ANOMALY] ðŸš¨ Odd hours access detected at 2:00
[ANOMALY] ðŸš¨ Repeated opens: 6 times in 10 minutes
[DEBUG] Broadcasting WebSocket [af889956]: door_open
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1038
[DEBUG]   - Type: door_open
[DEBUG]   - Image Path: static/captures/door_open_2025-10-30_02-16-41.jpg
[DEBUG]   - Image Hash: 8aa3a728ba4ef98f...
[DEBUG]   - Full event dict: {'id': 1038, 'event_type': 'door_open', 'description': 'Door opened', 'timestamp': '2025-10-30 02:16:41', 'image_path': 'static/captures/door_open_2025-10-30_02-16-41.jpg', 'image_hash': '8aa3a728ba4ef98f3aad047372395e2e6c6d766f4f3c67d98523f58f5a177075', 'image_timestamp': '2025-10-30 02:16:41', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_open
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_open' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [af889956]: door_openINFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:41] "GET /socket.io/?EIO=4&transport=polling&t=PenkGdb&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:42] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:43] "GET /api/events/1038 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:43] "GET /static/captures/door_open_2025-10-30_02-16-41.jpg?v=1761770803503 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:45] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:48] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:51] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:53] "GET /socket.io/?EIO=4&transport=polling&t=PenkGe6&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:53] "POST /socket.io/?EIO=4&transport=polling&t=PenkJPw&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:54] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:16:57] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:00] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:03] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -

[DEBUG] â° ALARM TIMER STARTED:
  â”œâ”€ Duration: 25 seconds
  â”œâ”€ Start Time: 1761770801.6546435
  â”œâ”€ Timer Active: True
  â””â”€ Door Open: True
  ðŸŽ¯ EXPECTED TRIGGER TIME: 1761770826.6546435 (25s from now)
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer start)
[DEBUG] ðŸ”´ LED will blink 25 times (1 blink = 1 second)
[DEBUG] ðŸŽ¯ Timer will expire at: 1761770826.655
[DEBUG] â±ï¸  Second 1: Elapsed=0.0s, Remaining=25.0s
[DEBUG] â° New timer thread started for 25s
[DEBUG] ðŸ” Verification - Thread args: (25,)
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #1 - Elapsed: 0.5s - Remaining: 24.5s
[API] Polling request: Getting events since ID 1037
[API] Found 1 new events since ID 1037
[DEBUG] â±ï¸  Second 2: Elapsed=1.0s, Remaining=24.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #1 complete - Elapsed: 1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #2 - Elapsed: 1.5s - Remaining: 23.5s
[DEBUG] â±ï¸  Second 3: Elapsed=2.0s, Remaining=23.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #2 complete - Elapsed: 2.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #3 - Elapsed: 2.5s - Remaining: 22.5s
[DEBUG] â±ï¸  Second 4: Elapsed=3.0s, Remaining=22.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #3 complete - Elapsed: 3.0s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1037
[API] Found 1 new events since ID 1037
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #4 - Elapsed: 3.5s - Remaining: 21.5s
[DEBUG] â±ï¸  Second 5: Elapsed=4.0s, Remaining=21.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #4 complete - Elapsed: 4.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #5 - Elapsed: 4.5s - Remaining: 20.5s
[DEBUG] â±ï¸  Second 6: Elapsed=5.0s, Remaining=20.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #5 complete - Elapsed: 5.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #6 - Elapsed: 5.5s - Remaining: 19.5s
[DEBUG] â±ï¸  Second 7: Elapsed=6.0s, Remaining=19.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #6 complete - Elapsed: 6.0s
[API] Polling request: Getting events since ID 1037
[API] Found 1 new events since ID 1037
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #7 - Elapsed: 6.5s - Remaining: 18.5s
[DEBUG] â±ï¸  Second 8: Elapsed=7.0s, Remaining=18.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #7 complete - Elapsed: 7.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #8 - Elapsed: 7.5s - Remaining: 17.5s
[DEBUG] â±ï¸  Second 9: Elapsed=8.0s, Remaining=17.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #8 complete - Elapsed: 8.0s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #9 - Elapsed: 8.5s - Remaining: 16.5s
[DEBUG] â±ï¸  Second 10: Elapsed=9.0s, Remaining=16.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #9 complete - Elapsed: 9.0s
[API] Polling request: Getting events since ID 1037
[API] Found 1 new events since ID 1037
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #10 - Elapsed: 9.5s - Remaining: 15.5s
[DEBUG] â±ï¸  Second 11: Elapsed=10.0s, Remaining=15.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #10 complete - Elapsed: 10.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #11 - Elapsed: 10.5s - Remaining: 14.5s
[DEBUG] â±ï¸  Second 12: Elapsed=11.1s, Remaining=13.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #11 complete - Elapsed: 11.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #12 - Elapsed: 11.6s - Remaining: 13.4s
[DEBUG] â±ï¸  Second 13: Elapsed=12.1s, Remaining=12.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #12 complete - Elapsed: 12.1s
[API] Polling request: Getting events since ID 1037
[API] Found 1 new events since ID 1037
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #13 - Elapsed: 12.6s - Remaining: 12.4s
[DEBUG] â±ï¸  Second 14: Elapsed=13.1s, Remaining=11.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #13 complete - Elapsed: 13.1s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #14 - Elapsed: 13.6s - Remaining: 11.4s
[DEBUG] â±ï¸  Second 15: Elapsed=14.1s, Remaining=10.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #14 complete - Elapsed: 14.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #15 - Elapsed: 14.6s - Remaining: 10.4s
[DEBUG] â±ï¸  Second 16: Elapsed=15.1s, Remaining=9.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #15 complete - Elapsed: 15.1s
[API] Polling request: Getting events since ID 1037
[API] Found 1 new events since ID 1037
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #16 - Elapsed: 15.6s - Remaining: 9.4s
[DEBUG] â±ï¸  Second 17: Elapsed=16.1s, Remaining=8.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #16 complete - Elapsed: 16.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #17 - Elapsed: 16.6s - Remaining: 8.4s
[DEBUG] â±ï¸  Second 18: Elapsed=17.1s, Remaining=7.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #17 complete - Elapsed: 17.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #18 - Elapsed: 17.6s - Remaining: 7.4s
[DEBUG] â±ï¸  Second 19: Elapsed=18.1s, Remaining=6.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #18 complete - Elapsed: 18.1s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[API] Polling request: Getting events since ID 1037
[API] Found 1 new events since ID 1037
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #19 - Elapsed: 18.6s - Remaining: 6.4s
[DEBUG] â±ï¸  Second 20: Elapsed=19.1s, Remaining=5.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #19 complete - Elapsed: 19.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #20 - Elapsed: 19.6s - Remaining: 5.4s
[DEBUG] â±ï¸  Second 21: Elapsed=20.1s, Remaining=4.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #20 complete - Elapsed: 20.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #21 - Elapsed: 20.6s - Remaining: 4.4s
[DEBUG] â±ï¸  Second 22: Elapsed=21.1s, Remaining=3.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #21 complete - Elapsed: 21.1s
[API] Polling request: Getting events since ID 1037
[API] Found 1 new events since ID 1037
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #22 - Elapsed: 21.6s - Remaining: 3.4s
[DEBUG] â±ï¸  Second 23: Elapsed=22.1s, Remaining=2.9sINFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:06] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/alarm_triggered_2025-10-30_02-17-06.jpg
INFO:camera_helper:ðŸ“¸ Image captured: alarm_triggered_2025-10-30_02-17-06.jpg (39982 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:07] "GET /socket.io/?EIO=4&transport=polling&t=PenkJPy&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:07] "GET /socket.io/?EIO=4&transport=polling&t=PenkMuR&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:camera_helper:ðŸ“¸ Flushing camera buffer to get fresh frame...
INFO:camera_helper:âœ… Fresh frame captured, saving to static/captures/door_close_2025-10-30_02-17-08.jpg
INFO:camera_helper:ðŸ“¸ Image captured: door_close_2025-10-30_02-17-08.jpg (39973 bytes)
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:08] "GET /socket.io/?EIO=4&transport=polling&t=PenkMyq&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:08] "GET /api/events/1039 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:09] "GET /static/captures/alarm_triggered_2025-10-30_02-17-06.jpg?v=1761770829444 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:09] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:10] "GET /api/events/1040 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:10] "GET /static/captures/door_close_2025-10-30_02-17-08.jpg?v=1761770830611 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:12] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:15] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:18] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:18] "GET /socket.io/?EIO=4&transport=polling&t=PenkNFu&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:18] "POST /socket.io/?EIO=4&transport=polling&t=PenkPXI&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:21] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:23] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:27] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:30] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:33] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:36] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:39] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:42] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:43] "GET /socket.io/?EIO=4&transport=polling&t=PenkPXK&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:43] "POST /socket.io/?EIO=4&transport=polling&t=PenkVeL&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:44] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:47] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:50] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -

[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #22 complete - Elapsed: 22.1s
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #23 - Elapsed: 22.6s - Remaining: 2.4s
[DEBUG] â±ï¸  Second 24: Elapsed=23.1s, Remaining=1.9s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #23 complete - Elapsed: 23.1s
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 1, interpreted as OPEN
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #24 - Elapsed: 23.6s - Remaining: 1.4s
[DEBUG] â±ï¸  Second 25: Elapsed=24.0s, Remaining=1.0s
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer blink)
[DEBUG] âš« RED LED OFF - Blink #24 complete - Elapsed: 24.1s
[API] Polling request: Getting events since ID 1037
[API] Found 1 new events since ID 1037
[DEBUG] ðŸ”§ GPIO Pin 13 set to HIGH (Red LED - timer blink)
[DEBUG] ðŸ”´ RED LED ON - Blink #25 - Elapsed: 24.6s - Remaining: 0.4s
[DEBUG] ðŸ TIMER LOOP ENDED:
  â”œâ”€ Start Time: 1761770801.655
  â”œâ”€ End Time: 1761770826.663
  â”œâ”€ Elapsed Time: 25.009 seconds
  â”œâ”€ Expected Duration: 25 seconds
  â”œâ”€ Timer Active: True
  â”œâ”€ Door Open: True
  â””â”€ Should Trigger: True
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - timer cleanup)
[DEBUG] ðŸ”´ Red LED turned OFF
[DEBUG] âš ï¸ ALARM TRIGGERED:
  â”œâ”€ Duration Set: 25 seconds
  â”œâ”€ Actual Elapsed: 25.01 seconds
  â”œâ”€ Door Still Open: True
  â””â”€ Timer Was Active: False
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - before alarm activation)
[DEBUG] ðŸ”´ WHITE LED ON (Pin 16) - ALARM ACTIVE
[DEBUG] ðŸ” WHITE LED VERIFICATION: Pin 16 actual state = 1 (should be 1)
[DEBUG] ðŸŽµ AUDIO LINKED TO WHITE LED - Starting alarm sound...
[DEBUG] ðŸ”„ Preloaded audio now playing in continuous loop
[DEBUG] log_event #24 [59e2daa7]: alarm_triggered - Alarm triggered after 25 seconds
[DEBUG] *** EVENT APPROVED FOR LOGGING [59e2daa7] ***: alarm_triggered
[DEBUG] Starting DB transaction [59e2daa7]...
[DEBUG] âœ… DB COMMIT SUCCESS [59e2daa7]: alarm_triggered -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for alarm_triggered...
[DEBUG] âœ… IMAGE CAPTURED [59e2daa7]:
[DEBUG]    File: alarm_triggered_2025-10-30_02-17-06.jpg
[DEBUG]    Size: 39982 bytes
[DEBUG]    Hash: 998a3ed1f2aec3bb...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [59e2daa7]: Block #975
[DEBUG] Broadcasting WebSocket [59e2daa7]: alarm_triggered
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1039
[DEBUG]   - Type: alarm_triggered
[DEBUG]   - Image Path: static/captures/alarm_triggered_2025-10-30_02-17-06.jpg
[DEBUG]   - Image Hash: 998a3ed1f2aec3bb...
[DEBUG]   - Full event dict: {'id': 1039, 'event_type': 'alarm_triggered', 'description': 'Alarm triggered after 25 seconds', 'timestamp': '2025-10-30 02:17:06', 'image_path': 'static/captures/alarm_triggered_2025-10-30_02-17-06.jpg', 'image_hash': '998a3ed1f2aec3bb1ee62501cc3c875e846f0fc14063fe32c8215d3c4f1768f3', 'image_timestamp': '2025-10-30 02:17:06', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: alarm_triggered
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'alarm_triggered' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [59e2daa7]: alarm_triggered
[ANOMALY] ðŸš¨ Prolonged open detected: 25s
[DEBUG] Attempting to send alarm email for duration: 25s
[DEBUG] Email config found - Sender: bsmscitech@gmail.com
[DEBUG] Recipients: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Connecting to Gmail SMTP...
[DEBUG] Attempting login...
[DEBUG] ðŸšª Door state change detected: True -> False
[DEBUG] ðŸšª Door closed - stopping all timers and alarms
[DEBUG] ðŸ”§ GPIO Pin 13 set to LOW (Red LED - door closed)
[DEBUG] ðŸ”‡ Audio alarm stopped immediately (both music and sound channels)
[DEBUG] âš« WHITE LED OFF (Pin 16) - ALARM DEACTIVATED
[DEBUG] âœ… Door closed. Timer and alarm deactivated.
[DEBUG] log_event #25 [0b35e060]: door_close - Door closed
[DEBUG] *** EVENT APPROVED FOR LOGGING [0b35e060] ***: door_close
[DEBUG] Starting DB transaction [0b35e060]...
[DEBUG] âœ… DB COMMIT SUCCESS [0b35e060]: door_close -> DB
[DEBUG] ðŸ“¸ Attempting to capture image for door_close...
[DEBUG] ðŸ”‡ Alarm deactivated - stopping continuous loop
[DEBUG] ðŸ”‡ Audio monitoring stopped
[DEBUG] âœ… IMAGE CAPTURED [0b35e060]:
[DEBUG]    File: door_close_2025-10-30_02-17-08.jpg
[DEBUG]    Size: 39973 bytes
[DEBUG]    Hash: f7348bac1b78a879...
[DEBUG] âœ… BLOCKCHAIN COMMIT SUCCESS [0b35e060]: Block #976
[DEBUG] Broadcasting WebSocket [0b35e060]: door_close
[DEBUG] Event data being broadcast:
[DEBUG]   - ID: 1040
[DEBUG]   - Type: door_close
[DEBUG]   - Image Path: static/captures/door_close_2025-10-30_02-17-08.jpg
[DEBUG]   - Image Hash: f7348bac1b78a879...
[DEBUG]   - Full event dict: {'id': 1040, 'event_type': 'door_close', 'description': 'Door closed', 'timestamp': '2025-10-30 02:17:08', 'image_path': 'static/captures/door_close_2025-10-30_02-17-08.jpg', 'image_hash': 'f7348bac1b78a879eaa2cf349bb2d958c568f3062df3528128db7ac8def2595b', 'image_timestamp': '2025-10-30 02:17:08', 'has_image': True}
[WEBSOCKET] ðŸ“¡ BROADCASTING EVENT:
  â”œâ”€ Event Type: door_close
  â”œâ”€ Event Name: 'new_event'
  â”œâ”€ Namespace: /events
  â”œâ”€ Connected Clients: 3
  â””â”€ Payload Keys: ['event', 'door_status', 'alarm_status', 'timer_set', 'last_event', 'statistics', 'event_id']
[WEBSOCKET] âœ… EVENT BROADCAST SUCCESSFUL - Event 'door_close' sent to all clients
[DEBUG] âœ… EVENT COMPLETE [0b35e060]: door_close
[DEBUG] Sending email to 4 recipients...
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[SUCCESS] Alarm email sent successfully to: srivathsamurthys.1745@gmail.com, srivathsasmurthy2005@gmail.com, ssrivathsamurthy@gmail.com, srivathsamurthys1969@gmail.com
[DEBUG] Timer thread ending - Final state: timer_active=False, alarm_active=False
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[DEBUG] ðŸ” Door monitoring: GPIO pin 11 = 0, interpreted as CLOSED
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037
[API] Polling request: Getting events since ID 1037
[API] Found 3 new events since ID 1037INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:54] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:17:56] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:18:00] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:18:03] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:18:06] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:18:08] "GET /socket.io/?EIO=4&transport=polling&t=PenkVeM&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:18:08] "POST /socket.io/?EIO=4&transport=polling&t=PenkblM&sid=MnUv9wGDaRv0HgrfAAAg HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:18:09] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
INFO:werkzeug:192.168.31.227 - - [30/Oct/2025 02:18:12] "GET /api/events?since=1037&per_page=50 HTTP/1.1" 200 -
