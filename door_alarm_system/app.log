INFO:camera_helper:Attempting to initialize USB camera on device 0
INFO:camera_helper:âœ… USB camera initialized successfully at (1920, 1080)
pygame 2.6.1 (SDL 2.28.4, Python 3.13.5)
Hello from the pygame community. https://www.pygame.org/contribute.html
[DEBUG] ğŸ”§ Starting GPIO setup...
[DEBUG] ğŸ”§ Not in testing mode, initializing GPIO hardware...
[DEBUG] ğŸ”§ Checking for lingering GPIO processes...
[DEBUG] ğŸ”§ Performing aggressive GPIO cleanup...
[DEBUG] ğŸ”§ GPIO cleanup attempt 1 completed
[DEBUG] ğŸ”§ GPIO cleanup attempt 2 completed
[DEBUG] ğŸ”§ GPIO cleanup attempt 3 completed
[DEBUG] ğŸ”§ GPIO mode reset to BOARD
[DEBUG] ğŸ”§ GPIO cleanup and mode initialization completed
[DEBUG] âœ… GPIO pin 11 setup successful (Magnetic sensor)
[DEBUG] âœ… GPIO pin 22 setup successful (Green LED)
[DEBUG] âœ… GPIO pin 13 setup successful (Red LED)
[DEBUG] âœ… GPIO pin 16 setup successful (White LED)
[DEBUG] âœ… GPIO pin 18 setup successful (Switch)
[DEBUG] âœ… GPIO pin 10 setup successful (Hooter Siren MOSFET)
[DEBUG] ğŸ”§ GPIO Setup Summary:
  â”œâ”€ Successful pins: 6/6
  â”‚   âœ… Pin 11: Magnetic sensor
  â”‚   âœ… Pin 22: Green LED
  â”‚   âœ… Pin 13: Red LED
  â”‚   âœ… Pin 16: White LED
  â”‚   âœ… Pin 18: Switch
  â”‚   âœ… Pin 10: Hooter Siren MOSFET
[DEBUG] ğŸ”§ GPIO initialization completed
[DEBUG] ğŸ”§ GPIO setup phase completed, continuing with global variables...
[DEBUG] âœ… GPIO hardware is available and functional
[DEBUG] ğŸ”§ Global variables initialized:
  â”œâ”€ door_open: False
  â”œâ”€ alarm_active: False
  â”œâ”€ timer_active: False
  â””â”€ timer_duration: 30s
ğŸŒ SSL disabled - HTTP mode (default)
ğŸ’¡ To enable HTTPS: USE_SSL=true python app.py
ï¿½ğŸš€ Starting eDOMOS-v2 Door Alarm System...
ğŸ“¡ WebSocket support enabled
ğŸ”„ Event-driven real-time updates active
ğŸŒ Server will be available at: http://0.0.0.0:5000
ğŸ”Œ WebSocket endpoint: ws://0.0.0.0:5000/socket.io/?EIO=4&transport=websocket&ns=/events
============================================================
[DEBUG] â° Timer duration loaded from database: 10 seconds
[DEBUG] ğŸ”§ Initializing LED states...
[DEBUG] âœ… LEDs initialized - Green: ON, Red: OFF, White: OFF
[DEBUG] ğŸ”§ Initializing audio system...
[DEBUG] ğŸ”Š Initializing audio system...
[DEBUG] Audio file path: /home/bsm/WebApp/eDOMOS-21-CFR/eDOMOS-21-CFR/door_alarm_system/static/audio.mp3
[DEBUG] Audio file exists: True
[DEBUG] Audio file size: 34605 bytes
[DEBUG] âœ… Audio preloaded into memory for instant playback
[DEBUG] âœ… Audio initialization successful:
  â”œâ”€ File: /home/bsm/WebApp/eDOMOS-21-CFR/eDOMOS-21-CFR/door_alarm_system/static/audio.mp3
  â”œâ”€ Size: 34605 bytes
  â”œâ”€ Volume: 1.0
  â”œâ”€ Mixer initialized: (22050, -16, 2)
  â”œâ”€ Preloaded: True
  â””â”€ SDL Audio Driver: alsa
[DEBUG] ğŸ”§ Initializing camera system...
[DEBUG] âœ… Camera initialized successfully!
[DEBUG]    Type: usb
[DEBUG]    Resolution: (1920, 1080)
[DEBUG]    Storage: static/captures
[DEBUG] ğŸšª Door monitoring loop started
[DEBUG] ğŸšª Door state change detected: None -> False
ğŸ” Door monitoring thread started
[SCHEDULER] ğŸ“§ Report scheduler thread started
ğŸ“§ Report scheduler thread started
ğŸ”§ Starting SocketIO server with enhanced configuration...
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.31.227:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
